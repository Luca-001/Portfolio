(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[52],{2068:function(e,a,n){"use strict";n.d(a,"i",(function(){return l})),n.d(a,"c",(function(){return t})),n.d(a,"g",(function(){return r})),n.d(a,"d",(function(){return i})),n.d(a,"h",(function(){return o})),n.d(a,"a",(function(){return s})),n.d(a,"b",(function(){return c})),n.d(a,"j",(function(){return u})),n.d(a,"e",(function(){return d})),n.d(a,"f",(function(){return g}));var l={MOODIE:"MOODIE",NEWTON:"NEWTON",ADAMS:"ADAMS"},t={VISIBLE:"VISIBLE",HIDDEN:"HIDDEN"},r={ONBOARDING:"ONBOARDING",ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},i={SITE_TITLE:"SITE_TITLE",ABOUT:"ABOUT",YOUR_PHOTO:"YOUR_PHOTO",CONTACT_EMAIL:"CONTACT_EMAIL",LOCATION:"LOCATION",PROFILE:"PROFILE",INSTAGRAM:"INSTAGRAM",FACEBOOK:"FACEBOOK",TWITTER:"TWITTER"},o={FIRST_FOLDER_CREATION_STEP:"first_folder_creation_step",EDIT:"edit",CREATE:"create",GRID:"grid"},s={DESKTOP:"desktop",TABLET:"tablet",PHONE:"phone"},c={ATTEMPT:"ATTEMPT",MISSING:"MISSING",VERIFICATION:"VERIFICATION",NOT_CONNECTED:"NOT_CONNECTED",ACTIVE:"ACTIVE",PENDING:"PENDING",INACTIVE:"INACTIVE"},u={VALIDATED:"VALIDATED",MISSING:"MISSING",PENDING:"PENDING",INCORRECT:"INCORRECT"},d={INVALID_HOSTNAME:"INVALID_HOSTNAME",DOMAIN_ALREADY_EXISTS:"DOMAIN_ALREADY_EXISTS",INVALID_RECORD_LOOKUP:"INVALID_RECORD_LOOKUP"},g=72},2069:function(e,a,n){"use strict";var l=n(13),t=n(0),r=function(e){var a=e.target,n=e.targets,r=e.callback,i=void 0===r?function(){}:r,o=e.root,s=void 0===o?document.body:o,c=e.threshold,u=void 0===c?.1:c;Object(t.useEffect)((function(){if((a||n)&&s){var e=new IntersectionObserver((function(e){Object(l.a)(e,1)[0].isIntersecting&&i()}),{root:s,threshold:u});return a&&e.observe(a),n&&n.forEach((function(a){return e.observe(a)})),function(){a?e.unobserve(a):n&&e.disconnect()}}}),[a,i,s,u,n])},i=function(){var e=Object(t.useState)(null),a=Object(l.a)(e,2),n=a[0],r=a[1];return[n,Object(t.useCallback)((function(e){e&&r(e)}),[])]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{root:null,rootMargin:void 0,threshold:0},a=e.root,n=e.rootMargin,r=e.threshold,i=Object(t.useState)({}),o=Object(l.a)(i,2),s=o[0],c=o[1],u=Object(t.useState)(null),d=Object(l.a)(u,2),g=d[0],m=d[1],p=Object(t.useRef)(new window.IntersectionObserver((function(e){var a=Object(l.a)(e,1)[0];return c(a)}),{root:a,rootMargin:n,threshold:r}));return Object(t.useEffect)((function(){var e=p.current;return e.disconnect(),g&&e.observe(g),function(){return e.disconnect()}}),[g]),[m,s]};n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return i})),n.d(a,"b",(function(){return o}))},2072:function(e,a,n){"use strict";n.d(a,"b",(function(){return O})),n.d(a,"a",(function(){return x})),n.d(a,"c",(function(){return F})),n.d(a,"d",(function(){return L})),n.d(a,"k",(function(){return _})),n.d(a,"m",(function(){return C})),n.d(a,"f",(function(){return T})),n.d(a,"i",(function(){return N})),n.d(a,"v",(function(){return K})),n.d(a,"u",(function(){return j})),n.d(a,"r",(function(){return M})),n.d(a,"h",(function(){return A})),n.d(a,"w",(function(){return R})),n.d(a,"g",(function(){return B})),n.d(a,"n",(function(){return G})),n.d(a,"x",(function(){return z})),n.d(a,"o",(function(){return D})),n.d(a,"q",(function(){return U})),n.d(a,"j",(function(){return V})),n.d(a,"l",(function(){return W})),n.d(a,"s",(function(){return H})),n.d(a,"t",(function(){return Q})),n.d(a,"e",(function(){return $})),n.d(a,"y",(function(){return q})),n.d(a,"p",(function(){return X}));var l=n(20),t=n(4),r=n(28),i=n.n(r),o=n(17),s=n.n(o),c=n(5),u=n(56),d=n.n(u),g=n(815),m=n.n(g),p=n(803),y=n(2071),f=n(2085);function h(){var e=Object(l.a)(["\n    justify-content: flex-end;\n    margin-left: auto;\n  "]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n      max-width: 300px;\n      width: 100%;\n    "]);return v=function(){return e},e}function b(){var e=Object(l.a)(["\n      max-height: 28px;\n      padding: 4px 10px;\n    "]);return b=function(){return e},e}function k(){var e=Object(l.a)(["\n    padding: 0 ",";\n    order: 0;\n    margin-right: unset;\n  "]);return k=function(){return e},e}function w(){var e=Object(l.a)(["\n    max-width: 500px;\n    transform: translateX(calc(50vw - 50%));\n  "]);return w=function(){return e},e}function E(){var e=Object(l.a)(["\n    ","\n  "]);return E=function(){return e},e}function I(){var e=Object(l.a)(["\n    margin-left: ",";\n"]);return I=function(){return e},e}function S(){var e=Object(l.a)(["\n    margin-left: ",";\n  "]);return S=function(){return e},e}function P(){var e=Object(l.a)(["\n    height: 370px;\n  "]);return P=function(){return e},e}var O=t.default.div.withConfig({displayName:"Elements__HeaderContainer",componentId:"f7beof-0"})(["overflow:hidden;width:100%;height:200px;",""],s.a.minWidth.medium(P())),x=Object(t.default)(c.Box).withConfig({displayName:"Elements__BackArrowContainer",componentId:"f7beof-1"})(["top:0;"," ",""],s.a.minWidth.medium(S(),(function(e){return e.theme.spacingLg})),s.a.minWidth.large(I(),(function(e){return e.theme.spacingXl}))),F=Object(t.default)(c.Box).withConfig({displayName:"Elements__LicensingTabBox",componentId:"f7beof-2"})(["",""],s.a.minWidth.medium(E(),(function(e){return e.isViewingOwnProfile&&Object(t.css)(["margin-bottom:",";"],e.theme.spacingXs)}))),L=Object(t.default)(c.Box).withConfig({displayName:"Elements__LincensingInfoBox",componentId:"f7beof-3"})(["background-color:",";min-height:52px;width:100%;",""],(function(e){return e.theme.lightBlue}),s.a.minWidth.medium(w())),_=Object(t.default)(i.a).withConfig({displayName:"Elements__StyledIcon",componentId:"f7beof-4"})(["transition:.25s all ease-in;",""],(function(e){return e.isOpen&&Object(t.css)(["transform:rotateX(180deg);"])})),C=Object(t.default)(p.Paragraph).withConfig({displayName:"Elements__StyledLocationParagraph",componentId:"f7beof-5"})(["border-bottom:1px dashed ",";"],(function(e){return e.theme.veryDarkGrey})),T=Object(t.default)(p.Paragraph).withConfig({displayName:"Elements__StyledAbout",componentId:"f7beof-6"})(["max-width:560px;"]),N=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledBoxShareIcon",componentId:"f7beof-7"})(["order:-1;margin-right:auto;padding-left:0;",""],s.a.minWidth.medium(k(),(function(e){return e.theme.spacingXs}))),K=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledTooltipWrapper",componentId:"f7beof-8"})([""]),j=Object(t.default)(m.a).withConfig({displayName:"Elements__StyledTooltip",componentId:"f7beof-9"})(["img{padding:16px;}"," "," &{padding:0;width:224px;","}"],(function(e){return e.photoImpressionsTooltip&&"\n    ".concat(K,":hover & {\n      display: block;\n      bottom: 25px;\n      padding: ").concat(e.theme.spacingSm,";\n      width: 330px;\n      left: unset;\n      margin-left: unset;\n    }\n")}),K,(function(e){return e.showMap&&"\n    cursor: default;\n    display: block;\n    bottom: 25px;\n      ".concat(e.shouldShowUnder&&"\n        bottom: -164px;\n        z-index: 3;\n        &::after {\n          bottom: unset;\n          top: 0;\n          border-color: white white transparent transparent;\n          box-shadow: 6px -4px 8px 0 rgba(0,0,0,0.08);\n        }\n      ","\n    ")})),M=Object(t.default)(f.StickyTabList).withConfig({displayName:"Elements__StyledStickyTabList",componentId:"f7beof-10"})(["overflow-x:scroll;-webkit-overflow-scrolling:touch;::-webkit-scrollbar{width:0;height:0;}&:before{content:'';position:sticky;top:0;left:0;z-index:3;padding:18px 32px;margin-left:-16px;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,#FFFFFF 53.65%);transform:matrix(-1,0,0,1,0,0);}&:after{content:'';position:sticky;top:0;right:0;z-index:3;padding:18px 32px;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,#FFFFFF 53.65%);}> div:first-of-type{margin-left:auto;}> div:last-of-type{margin-right:auto;}"]),A=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledBanner",componentId:"f7beof-11"})(["background:",";width:","px;height:","px;max-width:560px;> a{"," ","}",""],(function(e){return e.theme.veryDarkGrey}),(function(e){return e.width}),(function(e){return e.height}),s.a.maxWidth.small(b()),s.a.minWidth.medium(v()),(function(e){return e.emptyState&&Object(t.css)(["margin:0 auto;height:auto;width:100%;max-width:560px;min-height:290px;"])})),R=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledUploadBox",componentId:"f7beof-12"})(["width:","px;height:","px;",""],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.emptyState&&Object(t.css)(["margin:0 auto;width:100%;max-width:440px;height:auto;"])})),B=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledBadgeWrapper",componentId:"f7beof-13"})(["position:absolute;right:16px;top:16px;"]),G=Object(t.default)(p.Paragraph).withConfig({displayName:"Elements__StyledParagraph",componentId:"f7beof-14"})(["max-width:560px;text-align:center;margin:0 auto;"]),z=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledVisibility",componentId:"f7beof-15"})(["height:52px;",""],s.a.minWidth.medium(h())),D=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledPopoverWrapper",componentId:"f7beof-16"})(["",""],(function(e){return!e.hoverDisabled&&Object(t.css)(["&:hover{background-color:",";}"],e.theme.primaryBlue)})),U=t.default.span.withConfig({displayName:"Elements__StyledReadMore",componentId:"f7beof-17"})(["color:",";cursor:pointer;"],(function(e){return e.theme.primaryBlue})),V=(Object(t.default)(d.a).withConfig({displayName:"Elements__StyledLink",componentId:"f7beof-18"})(["&&{color:","}"],(function(e){return e.theme.primaryBlue})),Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledCreateGallery",componentId:"f7beof-19"})(["height:","px;width:","px;top:","px;left:","px;"],(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.top}),(function(e){return e.left}))),W=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledInfoDrag",componentId:"f7beof-20"})(["background-color:#EDF6FE;height:52px;transform:translateX(calc(50vw - 50%));"]),H=Object(t.default)(y.TabContent).withConfig({displayName:"Elements__StyledTabContent",componentId:"f7beof-21"})(["min-height:700px;background-color:",";"],(function(e){return e.theme.lighterGrey})),Q=t.default.span.withConfig({displayName:"Elements__StyledTabPhotoCount",componentId:"f7beof-22"})(["font-size:",";font-weight:normal;"],(function(e){return e.theme.fontSizeBodySmall})),$=Object(t.default)(c.Box).withConfig({displayName:"Elements__RadioWrapperBox",componentId:"f7beof-23"})([""," .form-error-message{display:none;}"],(function(e){return 0===e.lastRadio&&"\n    .radio-button-wrapper:nth-of-type(6) {\n      margin-top: 180px;\n    }\n  "})),q=Object(t.default)(c.Box).withConfig({displayName:"Elements__TextAreaWrapper",componentId:"f7beof-24"})([""," .form-error-message{display:none;}margin-bottom:",";"],(function(e){return 0===e.lastRadio&&"\n    position: absolute;\n    top: 190px;\n    width: 100%;\n  "}),(function(e){return e.theme.spacingSm})),X=Object(t.default)(c.Box).withConfig({displayName:"Elements__StyledProfileBanner",componentId:"f7beof-25"})(["max-width:540px;min-height:52px;background-color:",";margin-left:auto;margin-right:auto;"],(function(e){return e.theme.lightBlue}))},2074:function(e,a,n){"use strict";var l=n(15),t=n(14),r=n(103),i=n(0),o=n.n(i),s=n(246),c=n(379),u=n.n(c),d=n(4),g="PHOTO_CARD",m=function(e){var a=e.height,n=e.left,l=e.loaderType,i=e.selectableRef,c=e.theme,u=e.top,d=e.width,m=Object(r.a)(e,["height","left","loaderType","selectableRef","theme","top","width"]);switch(l){case g:return o.a.createElement("div",{ref:i,style:Object(t.a)({position:"absolute",top:u,left:n,height:a,width:d},m)},o.a.createElement(s.a,{ariaLabel:"Loading photos...",height:a,primaryColor:c.loadingPrimaryColor,secondaryColor:c.loadingSecondaryColor,speed:2,width:d},o.a.createElement("rect",{height:a,rx:"2",ry:"2",width:d,x:"0",y:"0"})));default:return null}};m.defaultProps={height:400,left:null,selectableRef:null,top:null,width:400},a.a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(d.withTheme)(m);return Object(l.a)(Array(e)).map((function(e,l){return o.a.createElement(n,Object.assign({key:"".concat(l,"-loader-photo-card"),height:1===u()(1)?400:200,id:"".concat(l,"-loader-photo-card"),loaderType:g,width:1===u()(1)?400:300},a))}))}},2160:function(e,a,n){"use strict";n.d(a,"a",(function(){return i})),n.d(a,"c",(function(){return c})),n.d(a,"f",(function(){return u})),n.d(a,"e",(function(){return d})),n.d(a,"b",(function(){return g})),n.d(a,"g",(function(){return m})),n.d(a,"d",(function(){return p}));var l=n(2060),t=n.n(l),r=n(113),i={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest"},o=function(e,a){var n={utm_campaign:"nativeshare",utm_content:"web",utm_medium:a,utm_source:"500px"};return"".concat(e,"?").concat(t.a.stringify(n))},s=function(e){var a=e.url,n=e.name,l=e.width,r=e.height,i=e.options,o=void 0===i?{}:i,s={left:window.screen.width/2-l/2,top:window.screen.height/2-r/2,width:l,height:r,resizable:0,toolbar:0,menubar:0,status:0,location:0,scrollbars:0};Object.assign(s,o);var c=t.a.stringify(s,{encode:!1}).replace(/&/g,",");window.open(a,n,c)},c=function(e){var a=e.uploader,n=e.name,l=e.images,c=e.canonicalPath,u=e.description,d=e.provider,g=e.callback;switch(d){case i.FACEBOOK:var m={u:o("".concat("https://500px.com").concat(c),"facebook")},p="http://www.facebook.com/sharer.php?".concat(t.a.stringify(m));s({url:p,name:"facebook",width:660,height:630});break;case i.TWITTER:var y=n,f={url:o("".concat("https://500px.com").concat(c),"twitter"),text:'"'.concat(y,'" by @').concat(a.displayName||a.twitterHandle," #500px")},h="https://twitter.com/intent/tweet?".concat(t.a.stringify(f));s({url:h,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var v=Object(r.getImageDataBySize)(l,2048),b=u?"".concat(n," - ").concat(u):n,k={url:o("".concat("https://500px.com").concat(c),"pinterest"),media:v,description:b},w="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(k));s({url:w,name:"pinterest_share",width:630,height:270})}g()},u=function(e){var a=e.callback,n=e.canonicalPath,l=e.imgUrl,r=e.provider,c=e.title;switch(r){case i.FACEBOOK:var u={u:o("".concat("https://500px.com").concat(n),"facebook")},d="http://www.facebook.com/sharer.php?".concat(t.a.stringify(u));s({url:d,name:"facebook",width:660,height:630});break;case i.TWITTER:var g={url:o("".concat("https://500px.com").concat(n),"twitter"),text:"Check out ".concat(c," - a photo quest on #500px")},m="https://twitter.com/intent/tweet?".concat(t.a.stringify(g));s({url:m,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var p={url:o("".concat("https://500px.com").concat(n),"pinterest"),media:l,description:c},y="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(p));s({url:y,name:"pinterest_share",width:630,height:270})}a()},d=function(e){var a,n=e.callback,l=e.canonicalPath,r=e.imgURL,c=e.provider,u=e.title;switch(c){case i.FACEBOOK:var d={u:o("".concat("https://500px.com").concat(l),"facebook")};a="http://www.facebook.com/sharer.php?".concat(t.a.stringify(d)),s({url:a,name:"facebook",width:660,height:630});break;case i.TWITTER:var g={url:o("".concat("https://500px.com").concat(l),"twitter"),text:u};a="https://twitter.com/intent/tweet?".concat(t.a.stringify(g)),s({url:a,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var m={url:o("".concat("https://500px.com").concat(l),"pinterest"),description:u,media:r||""};a="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(m)),s({url:a,name:"pinterest_share",width:630,height:270})}return n(),a},g=function(e){var a,n=e.title,l=e.canonicalPath,r=e.provider,c=e.callback,u=e.imgURL;switch(r){case i.FACEBOOK:var d={u:o("".concat("https://500px.com").concat(l),"facebook")};a="http://www.facebook.com/sharer.php?".concat(t.a.stringify(d)),s({url:a,name:"facebook",width:660,height:630});break;case i.TWITTER:var g={url:o("".concat("https://500px.com").concat(l),"twitter"),text:n};a="https://twitter.com/intent/tweet?".concat(t.a.stringify(g)),s({url:a,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var m={url:o("".concat("https://500px.com").concat(l),"pinterest"),description:n,media:u||""};a="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(m)),s({url:a,name:"pinterest_share",width:630,height:270})}return c(),a},m=function(e){var a,n=e.title,l=e.canonicalPath,r=e.provider,c=e.callback,u=e.imgURL;switch(r){case i.FACEBOOK:var d={u:o("".concat("https://500px.com").concat(l),"facebook")};a="http://www.facebook.com/sharer.php?".concat(t.a.stringify(d)),s({url:a,name:"facebook",width:660,height:630});break;case i.TWITTER:var g={url:o("".concat("https://500px.com").concat(l),"twitter"),text:n};a="https://twitter.com/intent/tweet?".concat(t.a.stringify(g)),s({url:a,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var m={url:o("".concat("https://500px.com").concat(l),"pinterest"),description:n,media:u||""};a="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(m)),s({url:a,name:"pinterest_share",width:630,height:270})}return c(),a},p=function(e){var a,n=e.title,l=e.canonicalPath,r=e.provider,c=e.callback,u=e.imgURL;switch(r){case i.FACEBOOK:var d={u:o("".concat(l),"facebook")};a="http://www.facebook.com/sharer.php?".concat(t.a.stringify(d)),s({url:a,name:"facebook",width:660,height:630});break;case i.TWITTER:var g={url:o("".concat(l),"twitter"),text:n};a="https://twitter.com/intent/tweet?".concat(t.a.stringify(g)),s({url:a,name:"twitter",width:550,height:400,options:{resizable:1}});break;case i.PINTEREST:var m={url:o("".concat(l),"pinterest"),description:n,media:u||""};a="https://www.pinterest.com/pin/create/button/?".concat(t.a.stringify(m)),s({url:a,name:"pinterest_share",width:630,height:270})}return c(),a}},2166:function(e,a,n){e.exports=n.p+"staticV2/media/FacebookMarketing.13b885de.svg"},2167:function(e,a,n){e.exports=n.p+"staticV2/media/TwitterMarketing.e6a33683.svg"},2168:function(e,a,n){e.exports=n.p+"staticV2/media/PinterestMarketing.984a8fa2.svg"},2169:function(e,a,n){e.exports=n.p+"staticV2/media/Link.512faabe.svg"},2193:function(e,a,n){"use strict";var l=n(0),t=n.n(l),r=n(6),i=n(28),o=n.n(i),s=n(5),c=n(11),u=n(2072),d=function(e){var a=e.displayName,n=e.tab;return t.a.createElement(s.Box,{bgColor:"lighterGrey",mb:"md",p:"sm",pt:"xl"},t.a.createElement(s.Box,{center:!0,column:!0,flex:!0},t.a.createElement(s.Box,{mb:"md",mt:"lg"},t.a.createElement(o.a,{size:"lg",svg:{all:"camera",photos:"camera",galleries:"photoLibrary",licensing:"licensing",groups:"groupsEmptyImg",workshops:"workshops",gallery:"photoLibrary",resume:"resume"}[n]})),t.a.createElement(c.HeadingSmall,{mb:"sm"},t.a.createElement(r.FormattedMessage,{id:"profile.work_in_progress"})),t.a.createElement(u.n,null,t.a.createElement(r.FormattedMessage,{id:"profile.work_in_progress.empty_tab.".concat(n),values:{name:a}}))))};d.defaultProps={tab:"all"},a.a=t.a.memo(d)},2196:function(e,a,n){"use strict";n.d(a,"a",(function(){return l}));var l={GALLERY:"GALLERY",USER_PROFILE:"USER_PROFILE",QUEST_INSPIRATION:"QUEST_INSPIRATION",HOMEFEED:"HOMEFEED"}},2202:function(e,a,n){"use strict";n.d(a,"a",(function(){return d})),n.d(a,"k",(function(){return g})),n.d(a,"f",(function(){return m})),n.d(a,"e",(function(){return p})),n.d(a,"b",(function(){return y})),n.d(a,"j",(function(){return f})),n.d(a,"d",(function(){return h})),n.d(a,"g",(function(){return v})),n.d(a,"i",(function(){return b})),n.d(a,"h",(function(){return k})),n.d(a,"c",(function(){return w}));var l=n(4),t=n(66),r=n(5),i=n(11),o=n(23),s=n.n(o),c=n(28),u=n.n(c),d=Object(l.default)(i.Paragraph).withConfig({displayName:"Elements__GalleryEmptyParagraph",componentId:"y39wyx-0"})(["width:100%;max-width:342px;"]),g=Object(l.default)(i.Paragraph).withConfig({displayName:"Elements__StyledText",componentId:"y39wyx-1"})(["max-width:560px;"]),m=l.default.span.withConfig({displayName:"Elements__StyledReadMore",componentId:"y39wyx-2"})(["color:",";cursor:pointer;"],(function(e){return e.theme.primaryBlue})),p=Object(l.default)(r.Box).withConfig({displayName:"Elements__StyledPublishToHomefeedBanner",componentId:"y39wyx-3"})(["background-color:#EDF6FE;max-width:560px;min-height:56px;"]),y=Object(l.default)(s.a).withConfig({displayName:"Elements__StyledBannerButton",componentId:"y39wyx-4"})(["padding:0;margin:0;font-weight:normal;height:unset;"]),f=Object(l.default)(r.Box).withConfig({displayName:"Elements__StyledSubHeader",componentId:"y39wyx-5"})(["background-color:",";padding-top:",";"],(function(e){return e.theme.lighterGrey}),(function(e){return e.theme.spacingXs})),h=Object(l.default)(r.Box).withConfig({displayName:"Elements__StyledInfoDrag",componentId:"y39wyx-6"})(["position:relative;height:52px;margin:auto;left:-151px;"]),v=Object(l.default)(r.Box).withConfig({displayName:"Elements__StyledSlideshowControls",componentId:"y39wyx-7"})(["min-width:238px;height:52px;"]),b=Object(l.default)(t.Link).withConfig({displayName:"Elements__StyledSlideshowLink",componentId:"y39wyx-8"})(["display:flex;align-items:center;max-width:165px;svg{path{fill:",";}}"],(function(e){return e.theme.primaryBlue})),k=Object(l.default)(u.a).withConfig({displayName:"Elements__StyledSlideshowIcon",componentId:"y39wyx-9"})(["path{fill:",";}"],(function(e){return e.theme.mediumGrey})),w=Object(l.default)(s.a).withConfig({displayName:"Elements__StyledCtaButton",componentId:"y39wyx-10"})(["min-width:260px;"])},2218:function(e,a,n){"use strict";var l=n(170),t=n(14),r=n(13),i=n(0),o=n.n(i),s=n(2054),c=n.n(s),u=n(6),d=n(28),g=n.n(d),m=n(33),p=n(54),y=n(2169),f=n.n(y),h=n(2167),v=n.n(h),b=n(2166),k=n.n(b),w=n(2168),E=n.n(w),I=function(e){var a=e.canonicalPath,n=e.coverPhotoUrl,s=e.isPortfolio,d=e.position,y=e.sharingFunc,h=e.title,b=e.zIndex,w=Object(i.useState)(!1),I=Object(r.a)(w,2),S=I[0],P=I[1],O=Object(i.useState)({}),x=Object(r.a)(O,2),F=x[0],L=x[1],_=Object(i.useCallback)((function(){P(!S)}),[S]),C=Object(i.useRef)(null),T=function(e,n,l){"Enter"===e.key&&n({title:h,canonicalPath:a,provider:l,callback:_})},N=Object(i.useCallback)((function(){(s?c()(a):c()("".concat("https://500px.com").concat(a)))&&Object(p.a)({messageId:"social.share.copied",duration:2,type:"success"}),_()}));Object(i.useEffect)((function(){F.Tab&&!F.Shift&&(_(),L({})),F.Tab&&F.Shift&&L({}),F.Enter&&(N(),L({}))}),[N,F,_]);return o.a.createElement(m.Popover,{arrow:!0,alignment:"center",attr:{"aria-label":"Share Menu",tabIndex:"0"},id:"social-share-menu",popoverNestedRole:"dialog",position:d||"bottom-left",render:o.a.createElement(o.a.Fragment,null,o.a.createElement(m.PopoverLink,{fullWidth:!0,as:"button",iconSrc:k.a,style:{background:"none",border:"none"},onClick:function(){return y({title:h,canonicalPath:a,imgURL:n,provider:"facebook",callback:_})},onKeyDown:function(e){return T(e,y,"facebook")}},o.a.createElement(u.FormattedMessage,{id:"social.facebook"})),o.a.createElement(m.PopoverLink,{fullWidth:!0,as:"button",iconSrc:v.a,style:{background:"none",border:"none"},onClick:function(){return y({title:h,canonicalPath:a,provider:"twitter",callback:_})},onKeyDown:function(e){return T(e,y,"twitter")}},o.a.createElement(u.FormattedMessage,{id:"social.twitter"})),o.a.createElement(m.PopoverLink,{fullWidth:!0,as:"button",iconSrc:E.a,style:{background:"none",border:"none"},onClick:function(){return y({title:h,canonicalPath:a,imgURL:n,provider:"pinterest",callback:_})},onKeyDown:function(e){return T(e,y,"pinterest")}},o.a.createElement(u.FormattedMessage,{id:"social.pinterest"})),o.a.createElement(m.PopoverLink,{fullWidth:!0,as:"button",iconSrc:f.a,style:{background:"none",border:"none"},onClick:N,onKeyDown:function(e){e.persist(),L((function(a){return Object(t.a)({},a,Object(l.a)({},e.key,!!e.key))}))},onKeyUp:function(e){e.persist(),L((function(a){return Object(t.a)({},a,Object(l.a)({},e.key,!e.key))}))}},o.a.createElement(u.FormattedMessage,{id:"social.share.copy_link"}))),show:S,triggerRef:C,triggerShow:_,width:161,zIndex:b,onClickout:_},o.a.createElement(g.a,{ref:C,ariaLabel:"Share Menu",size:"sm",svg:"share",type:"interactive",onClick:_}))};I.defaultProps={canonicalPath:null,coverPhotoUrl:"",isPortfolio:!1,position:"",sharingFunc:function(){},title:null,zIndex:1},a.a=I},2230:function(e,a,n){"use strict";var l=n(103),t=n(0),r=n.n(t),i=n(66),o=n(113),s=n(37),c=n(169),u=n(118),d=n(2045),g=n(6),m=n(5),p=n(11),y=n(28),f=n.n(y),h=n(213),v=n(494),b=n.n(v),k=n(2157),w=n(4),E=Object(w.default)(m.Box).withConfig({displayName:"Elements__StyledGalleryCard",componentId:"eidtq-0"})(["height:","px;width:","px;top:","px;left:","px;box-shadow:0px 0px 4px rgba(0,0,0,0.08),0px 4px 12px rgba(0,0,0,0.16);"],(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.top}),(function(e){return e.left})),I=w.default.img.withConfig({displayName:"Elements__StyledGalleryImage",componentId:"eidtq-1"})(["width:100%;height:",";object-fit:cover;"],(function(e){return e.imgHeight||"75%"})),S=Object(w.default)(m.Box).withConfig({displayName:"Elements__StyledGalleryInfo",componentId:"eidtq-2"})(["height:",";"],(function(e){return e.bottomHeight||"25%"})),P=Object(w.default)(m.Box).withConfig({displayName:"Elements__StyledGalleryVisibility",componentId:"eidtq-3"})(["margin-left:auto;"]),O=Object(w.default)(m.Box).withConfig({displayName:"Elements__StyledEmptyGallery",componentId:"eidtq-4"})(["height:",";"],(function(e){return e.imgHeight||"75%"})),x=function(e){var a,n,l=e.bottomHeight,t=e.gallery,i=e.showPrivacy,o=e.viewingOwnGallery,s=(null===t||void 0===t||null===(a=t.photos)||void 0===a?void 0:a.totalCount)>0,c=(null===t||void 0===t?void 0:t.privacy)===d.c.PUBLIC,u=(null===t||void 0===t?void 0:t.creator)||{},y=u.avatar,v=u.displayName,w=u.username,E=!(null===t||void 0===t?void 0:t.ownPhotosOnly),I=!!y,O=b()(["defaultColor","column"]),x=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{verySmallAvatar:!0,avatar:y,profileCanonicalPath:"/p/".concat(w)}),r.a.createElement(p.Paragraph,{clampedSingleLine:!0,ml:"xs",my:"xs"},r.a.createElement(g.FormattedMessage,{id:E?"gallery.curated_by":"gallery.photos_by"}),"\xa0",r.a.createElement(h.Link,{defaultColor:!0,as:O,to:"/p/".concat(w)},v))),F=r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(p.Paragraph,{small:!0},r.a.createElement(g.FormattedMessage,{id:"profile.tab.gallery.photo_count",values:{photoCount:null===t||void 0===t||null===(n=t.photos)||void 0===n?void 0:n.totalCount}})),i&&o&&!c&&r.a.createElement(P,{flex:!0,align:"center"},r.a.createElement(f.a,{mr:"xs",size:"xs",svg:"lock"}),r.a.createElement(p.Paragraph,{small:!0},r.a.createElement(g.FormattedMessage,{id:"profile.visibility.toggle.self"}))));return r.a.createElement(S,{bottomHeight:l,p:"sm"},r.a.createElement(p.Paragraph,{bold:!0,clampedSingleLine:!0,title:null===t||void 0===t?void 0:t.name},null===t||void 0===t?void 0:t.name),r.a.createElement(m.Box,{flex:!0,align:"center"},I?x:F))};x.defaultProps={bottomHeight:null,showPrivacy:!1,viewingOwnGallery:!1};var F=x,L=function(e){var a=e.hasPhotos,n=e.imgHeight;return r.a.createElement(O,{center:!0,column:!0,flex:!0,bgColor:"grey",imgHeight:n},r.a.createElement(f.a,{size:"sm",svg:"photoLibrary"}),r.a.createElement(p.Paragraph,{small:!0},r.a.createElement(g.FormattedMessage,{id:"profile.tab.gallery.".concat(a?"no_cover_photo":"empty_gallery")})))};L.defaultProps={hasPhotos:!1,imgHeight:null};var _=L,C=function(e){var a=e.imgHeight;return r.a.createElement(O,{center:!0,flex:!0,bgColor:"veryDarkGrey",imgHeight:a},r.a.createElement(p.HeadingMedium,{white:!0},r.a.createElement(g.FormattedMessage,{id:"nsfw"})))};C.defaultProps={imgHeight:null};var T=C,N=function(e){var a,n,g,m,p=e.callbackRef,y=e.currentUserCanViewNSFW,f=e.draggable,h=e.dragProps,v=e.gallery,b=e.sectionHeights,k=e.showPrivacy,w=(e.type,e.username,e.viewingOwnGallery),S=Object(l.a)(e,["callbackRef","currentUserCanViewNSFW","draggable","dragProps","gallery","sectionHeights","showPrivacy","type","username","viewingOwnGallery"]),P=Object(t.useContext)(s.a).webpSupported;if(!v)return null;var O=(null===v||void 0===v||null===(a=v.cover)||void 0===a||null===(n=a.images)||void 0===n?void 0:n.length)>0,x=O&&!!(null===v||void 0===v||null===(g=v.cover)||void 0===g?void 0:g.notSafeForWork),L=b.bottomHeight,C=b.imgHeight,N=Object(u.s)()?c.a.GRID_600:c.a.GRID_300,K=v.privacy===d.c.PRIVATE?v.canonicalPath:"/p".concat(v.canonicalPath),j=(null===v||void 0===v||null===(m=v.photos)||void 0===m?void 0:m.totalCount)>0;return r.a.createElement(E,Object.assign({},S,{draggable:f},h,{ref:p,id:"container-".concat(v.legacyId)}),r.a.createElement(i.Link,{draggable:!1,to:K},function(e,a,n,l){var t=r.a.createElement(_,{hasPhotos:l,imgHeight:C});if(e){var i=Object(o.getImageDataBySize)(v.cover.images,N),s=Object(u.l)(i,P),c=v.name;t=a?n?r.a.createElement(I,{alt:c,draggable:!1,imgHeight:C,src:s}):r.a.createElement(T,{imgHeight:C}):r.a.createElement(I,{alt:c,draggable:!1,imgHeight:C,src:s})}return t}(O,x,y,j)),r.a.createElement(i.Link,{to:K},r.a.createElement(F,{bottomHeight:L,gallery:v,showPrivacy:k,viewingOwnGallery:w})))};N.defaultProps={callbackRef:null,currentUserCanViewNSFW:!1,draggable:!1,dragProps:null,gallery:null,sectionHeights:{},showPrivacy:!1,type:null,viewingOwnGallery:!1};var K=N;n.d(a,"a",(function(){return K}))},2245:function(e,a,n){"use strict";var l=n(4),t=n(5),r=l.default.hr.withConfig({displayName:"HorizontalRule__Hr",componentId:"u8i5vd-0"})(["border:0;height:1px;background-color:",";",""],(function(e){return e.theme.borderColorDefault}),t.spacing);a.a=r},2256:function(e,a,n){"use strict";var l=n(14),t=n(13),r=n(0),i=n.n(r),o=n(6),s=n(32),c=n.n(s),u=n(5),d=n(23),g=n.n(d),m=n(140),p=n(822),y=n(814),f=n(2072);a.a=function(e){var a=e.handleReport,n=e.modalRef,s=Object(r.useState)(!1),d=Object(t.a)(s,2),h=d[0],v=d[1],b=Object(r.useState)(null),k=Object(t.a)(b,2),w=k[0],E=k[1],I=Object(r.useRef)(null),S=["4","7"];return i.a.createElement(u.Box,{position:"relative"},i.a.createElement(c.a,{ref:I,onChange:function(e){var a=e.values,n=S.indexOf(null===a||void 0===a?void 0:a.reason);E(n),-1!==n&&v(!0),-1!==n&&w!==n&&function(e){var a;(null===e||void 0===e||null===(a=e.values)||void 0===a?void 0:a.reasonDetails)&&(e.values.reasonDetails="")}(e),-1===n&&v(!1)},onSubmit:function(e){if(e.formInError)return null;var t=e.values,r=Object(l.a)({},t,{reason:+(null===t||void 0===t?void 0:t.reason)});return a(r),n.current.closeModal()}},i.a.createElement(f.e,{lastRadio:w},i.a.createElement(y.Radio,{id:"report-form",initialValue:"6",label:"empty",name:"reason"},i.a.createElement(y.RadioButton,{label:"report.tagged_adult",name:"profile_report",value:"6"}),i.a.createElement(y.RadioButton,{label:"report.offensive_rude",name:"profile_report",value:"1"}),i.a.createElement(y.RadioButton,{label:"report.spam_ads",name:"profile_report",value:"2"}),i.a.createElement(y.RadioButton,{label:"report.off_topic",name:"profile_report",value:"3"}),i.a.createElement(y.RadioButton,{label:"report.copy_right",name:"profile_report",value:"4"}),i.a.createElement(y.RadioButton,{label:"report.wrong_content",name:"profile_report",value:"5"}),i.a.createElement(y.RadioButton,{label:"report.spam_abusive",name:"profile_report",value:"7"}))),h&&i.a.createElement(f.y,{lastRadio:w},i.a.createElement(p.Textarea,{id:"reason-details",label:"profile.report.textarea.label",lastRadio:w,name:"reasonDetails"})),i.a.createElement(u.Box,{flex:!0,align:"center",justify:"right"},i.a.createElement(g.a,{tertiary:!0,message:i.a.createElement(o.FormattedMessage,{id:"cta.cancel"}),onClick:function(){return n.current.closeModal()}}),i.a.createElement(m.SubmitButton,{message:i.a.createElement(o.FormattedMessage,{id:"report"})}))))}},2361:function(e,a,n){"use strict";var l,t=n(9),r=n(8),i=void 0!==l?l:l=n(2362);a.a=function(e,a,n){var l=e.legacyId,o=e.name,s=e.description,c={input:{name:o,privacy:e.privacy,legacyId:l,description:s,coverPhotoId:e.coverPhotoId}};Object(t.commitMutation)(r.f,{mutation:i,variables:c,onCompleted:a,onError:n})}},2362:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"input",type:"UpdateGalleryInput!",defaultValue:null}],a=[{kind:"Variable",name:"input",variableName:"input"}],n={kind:"ScalarField",alias:null,name:"clientMutationId",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"publicSlug",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"privateToken",args:null,storageKey:null},u=[{kind:"Literal",name:"sizes",value:[33,32,36,2048]}],d={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"galleryUpdateMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"updateGallery",storageKey:null,args:a,concreteType:"UpdateGalleryPayload",plural:!1,selections:[n,{kind:"LinkedField",alias:null,name:"gallery",storageKey:null,args:null,concreteType:"Gallery",plural:!1,selections:[l,t,r,i,o,s,c,{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,36,2048])",args:u,concreteType:"PhotoResizeImage",plural:!0,selections:[d]}]}]}]}]},operation:{kind:"Operation",name:"galleryUpdateMutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"updateGallery",storageKey:null,args:a,concreteType:"UpdateGalleryPayload",plural:!1,selections:[n,{kind:"LinkedField",alias:null,name:"gallery",storageKey:null,args:null,concreteType:"Gallery",plural:!1,selections:[l,t,r,i,o,s,c,{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,36,2048])",args:u,concreteType:"PhotoResizeImage",plural:!0,selections:[d,l]},l]}]}]}]},params:{operationKind:"mutation",name:"galleryUpdateMutation",id:null,text:"mutation galleryUpdateMutation(\n  $input: UpdateGalleryInput!\n) {\n  updateGallery(input: $input) {\n    clientMutationId\n    gallery {\n      id\n      legacyId\n      name\n      privacy\n      description\n      publicSlug\n      privateToken\n      cover {\n        images(sizes: [33, 32, 36, 2048]) {\n          url\n          id\n        }\n        id\n      }\n    }\n  }\n}\n",metadata:{}}}}();l.hash="0d2d61adcb69bb963e12c0bb31cade17",e.exports=l},2363:function(e,a,n){"use strict";var l=n(13),t=n(0),r=n.n(t),i=n(6),o=n(5),s=n(167),c=n.n(s),u=n(2202),d=function(e){var a=e.boxSpacing,n=e.centeredText,s=e.text,d=Object(t.useState)(!1),g=Object(l.a)(d,2),m=g[0],p=g[1];if(!s)return null;var y=function(){return r.a.createElement(u.f,{onClick:function(){return p(!m)}},"\xa0",r.a.createElement(i.FormattedMessage,{id:m?"cta.read_less":"cta.read_more"}))},f=function(e){return s.length<e?s:m?r.a.createElement("span",null,s.slice(0,s.length),r.a.createElement(y,null)):r.a.createElement("span",null,"".concat(s.slice(0,e),"..."),r.a.createElement(y,null))};return r.a.createElement(o.Box,Object.assign({flex:!0,flexWrap:!0,align:"bottom",justify:"center"},a),r.a.createElement(c.a.Small,{orSmaller:!0},r.a.createElement(u.k,{showWhiteSpace:!0,center:n},f(50))),r.a.createElement(c.a.Medium,{orLarger:!0},r.a.createElement(u.k,{showWhiteSpace:!0,center:n},f(120))))};d.defaultProps={boxSpacing:{},centeredText:!1,text:""},a.a=d},2364:function(e,a,n){"use strict";var l=n(13),t=n(0),r=n.n(t),i=n(6),o=n(28),s=n.n(o),c=n(152),u=n(33),d=n(167),g=n.n(d),m=n(5),p=n(56),y=n.n(p),f=n(11),h=n(90),v=n(2172),b=n(54),k=n(2218),w=n(2256),E=n(2068),I=n(823),S=n.n(I),P=n(817),O=n.n(P),x=n(825),F=n.n(x),L=n(828),_=n.n(L),C=n(504),T=n.n(C),N=n(820),K=n.n(N),j=n(118),M=n(2072),A=function(e){Object(b.a)({messageId:"profile.user_overflow.".concat(e,"_feature_photographer.success"),type:"success"})},R=function(){Object(b.a)({messageId:"networkError.code.default",type:"error"})},B=function(e,a){var n=(a||{}).featureGalleryResponse||{},l=n.code,t=n.message;"200"===l?Object(b.a)({messageId:"profile.user_overflow.".concat(e,"_gallery.success"),type:"success"}):Object(b.a)({message:t,type:"error"})},G=function(){Object(b.a)({messageId:"networkError.code.default",type:"error"})},z=function(e){var a=e.galleryLegacyId,n=e.isPrivateGallery,l=e.profileLegacyId,t=e.toggleDropdown;return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,as:"span",iconSrc:F.a,role:"button",onClick:function(){Object(h.y)({userLegacyId:l,galleryLegacyId:a,onCompleted:function(e){return B("feature",e)},onError:function(e){return G()}}),t()}},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.feature_gallery"})),r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,as:"span",iconSrc:F.a,role:"button",onClick:function(){Object(h.U)({userLegacyId:l,galleryLegacyId:a,onCompleted:function(e){return B("unfeature",e)},onError:function(e){return G()}}),t()}},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.unfeature_gallery"}))),r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"".concat("https://admin.500px.com","/community/gallery/").concat(a),iconSrc:S.a},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.admin_page"})))},D=function(e){var a=e.followersCount,n=e.photosCount,l=e.profileLegacyId,t=e.toggleDropdown,o=e.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"".concat("https://admin.500px.com","/community/user/").concat(l),iconSrc:S.a},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.admin_page"})),r.a.createElement(u.PopoverLink,{fullWidth:!0,textOnlyMenu:!0,as:"span",role:"button",onClick:function(){!function(e){var a=e.followersCount,n=e.photosCount,l=e.profileLegacyId,t=e.username,r={followersCount:a,lastUploadDate:new Date,photosCount:n,username:t,userLegacyId:l};Object(h.d)(r,(function(){return A("add")}),R)}({profileLegacyId:l,username:o,photosCount:n,followersCount:a}),t()}},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.add_feature_photographer"})),r.a.createElement(u.PopoverLink,{fullWidth:!0,textOnlyMenu:!0,as:"span",role:"button",onClick:function(){!function(e){Object(h.L)({userLegacyId:e},(function(){return A("remove")}),R)}(l),t()}},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.remove_feature_photographer"})))},U=function(e){var a=e.galleryOptions,n=a.galleryLegacyId,l=a.isPrivateGallery,t=e.isAdmin,o=e.profileLegacyId,s=e.toggleDropdown;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a.Small,{orSmaller:!0},r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"/portfolio",iconSrc:O.a},r.a.createElement(i.FormattedMessage,{id:"portfolio.preview.title"}))),r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"/manage",iconSrc:_.a},r.a.createElement(i.FormattedMessage,{id:"profile.manage.photos"})),r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"/settings",iconSrc:K.a},r.a.createElement(i.FormattedMessage,{id:"profile.manage.settings"})),t&&(n?r.a.createElement(z,{galleryLegacyId:n,isPrivateGallery:l,profileLegacyId:o,toggleDropdown:s}):r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"".concat("https://admin.500px.com","/community/user/").concat(o),iconSrc:S.a},r.a.createElement(i.FormattedMessage,{id:"profile.user_overflow.admin_page"}))))},V=function(e){var a=e.galleryOptions,n=a.galleryLegacyId,l=a.galleryReport,t=a.isPrivateGallery,o=e.isAdmin,s=e.isReported,c=e.modalRef,d=e.profileOptions,g=e.toggleDropdown,m=l?"profile.report_this.gallery":"profile.report_this_profile";return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,disabled:s,iconSrc:T.a,onClick:function(){var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.showModal()}},r.a.createElement(i.FormattedMessage,{id:s?"profile.report_reported":m})),o&&(n?r.a.createElement(z,{galleryLegacyId:n,isPrivateGallery:t,profileLegacyId:null===d||void 0===d?void 0:d.profileLegacyId,toggleDropdown:g}):r.a.createElement(D,Object.assign({},d,{toggleDropdown:g}))))},W=function(e,a,n,l,t,i,o){return e?r.a.createElement(U,{galleryOptions:i,isAdmin:a,profileLegacyId:t.profileLegacyId,toggleDropdown:o}):r.a.createElement(V,{galleryOptions:i,isAdmin:a,isReported:l,modalRef:n,profileOptions:t,toggleDropdown:o})},H=function(e){var a=e.canonicalPath,n=e.coverPhotoUrl,o=e.displayName,d=e.followersCount,p=e.galleryLegacyId,h=e.galleryReport,b=e.galleryTitle,I=e.handleReport,S=e.isAdmin,P=e.isPrivateGallery,x=e.isPro,F=e.isReported,L=e.isViewingOwnProfile,_=e.legacyId,C=e.loggedIn,T=e.photosCount,N=e.portfolio,K=e.sharingFunction,A=e.username,R=Object(t.useState)(!1),B=Object(l.a)(R,2),G=B[0],z=B[1],D=Object(t.useState)(!1),U=Object(l.a)(D,2),V=U[0],H=U[1],Q=Object(t.useRef)(null),$=Object(t.useRef)(null),q=Object(t.useRef)(null),X=function(){return z(!G)},Y=function(){return H(!V)},Z=p?"/p/".concat(A,"/galleries/").concat(p,"/edit"):"/p/".concat(A,"/edit"),J={username:A,photosCount:T,followersCount:d,profileLegacyId:_},ee={isPrivateGallery:P,galleryLegacyId:p,galleryReport:h},ae=!p&&L,ne=(null===N||void 0===N?void 0:N.status)===E.g.INACTIVE,le=(null===N||void 0===N?void 0:N.status)===E.g.ONBOARDING||!N,te=r.a.createElement(r.a.Fragment,null,r.a.createElement(u.PopoverLink,{fullWidth:!0,withIcon:!0,href:"".concat("https://500px.com","/portfolio"),iconSrc:O.a},r.a.createElement(m.Box,{flex:!0,align:"center",as:"span"},r.a.createElement(i.FormattedMessage,{id:le?"profile.manage.create_portfolio.title":"profile.manage.view_portfolio.title"}),r.a.createElement(m.Box,{as:"span",ml:"xxs"},r.a.createElement(v.a,{isPro:!0,smallerPadding:!0,withIcon:!0})))),r.a.createElement(f.Paragraph,{px:"sm",py:"xs"},r.a.createElement(i.FormattedMessage,{id:x?"profile.manage.create_portfolio.body":"profile.manage.create_portfolio.non_pro".concat(ne?".inactive":"",".body"),values:{cta:ne?r.a.createElement(y.a,{defaultColor:!0,href:"/upgrade"},r.a.createElement(i.FormattedMessage,{id:"profile.manage.create_portfolio.non_pro.cta"})):null}})));return r.a.createElement(m.Box,{flex:!0,align:"top",justify:"right",mb:"sm"},C&&r.a.createElement(m.Box,{px:"xs"},L?r.a.createElement(s.a,{ariaLabel:"Edit profile",href:Z,size:"sm",svg:"edit",type:"interactive"}):r.a.createElement(s.a,{ariaLabel:"Send message to ".concat(A),href:"/messenger/".concat(_),size:"sm",svg:"messenger",type:"interactive"})),r.a.createElement(M.i,null,r.a.createElement(g.a.Small,{orSmaller:!0},j.r?r.a.createElement(s.a,{ariaLabel:"Share profile",size:"sm",svg:"share",type:"interactive",onClick:function(){var e=window.location.href,a="Photographer ".concat(o," on #500px");p&&(a="".concat(b," curated by ").concat(o," / 500px")),Object(j.v)(e,a)}}):r.a.createElement(k.a,{canonicalPath:p?a:"/p/".concat(A),coverPhotoUrl:n,position:"right",sharingFunc:K,title:p?"Photographer ".concat(o,"'s Gallery ").concat(b," on #500px"):"Photographer ".concat(o,"'s on #500px"),zIndex:3})),r.a.createElement(g.a.Medium,{orLarger:!0},r.a.createElement(k.a,{canonicalPath:p?a:"/p/".concat(A),coverPhotoUrl:n,sharingFunc:K,title:p?"Photographer ".concat(o,"'s Gallery ").concat(b," on #500px"):"Photographer ".concat(o,"'s on #500px"),zIndex:3}))),ae&&r.a.createElement(g.a.Medium,{orLarger:!0},r.a.createElement(m.Box,{px:"xs"},r.a.createElement(u.Popover,{arrow:!0,attr:{"aria-label":"Profile Options menu",tabIndex:"0"},id:"user-portfolio",popoverNestedRole:"dialog",position:"bottom-left",render:te,show:V,triggerRef:q,triggerShow:Y,width:270,zIndex:3,onClickout:Y},r.a.createElement(s.a,{ref:q,ariaLabel:"User portfolio",size:"sm",svg:"briefcase",type:"interactive",onClick:Y})))),C&&r.a.createElement(m.Box,{px:"xs"},r.a.createElement(u.Popover,{arrow:!0,attr:{"aria-label":"Profile Options menu",tabIndex:"0"},id:"user-options-dropdown",popoverNestedRole:"dialog",position:"bottom-left",render:W(L,S,Q,F,J,ee,X),show:G,triggerRef:$,triggerShow:X,width:S?230:214,zIndex:3,onClickout:X},r.a.createElement(s.a,{ref:$,ariaLabel:"Profile options menu",size:"sm",svg:"overflow",type:"interactive",onClick:X}))),r.a.createElement(c.Modal,{ref:Q,fullWidth:!0,showCloseButton:!0,id:"modal-report",titleMessageId:h?"report_gallery":"report_profile"},r.a.createElement(c.ModalContentPadding,null,r.a.createElement(w.a,{handleReport:I,modalRef:Q}))))};H.defaultProps={coverPhotoUrl:"",followersCount:null,galleryLegacyId:null,galleryReport:!1,galleryTitle:null,handleReport:function(){},isAdmin:!1,isPrivateGallery:!1,isPro:!1,isReported:!1,photosCount:null,portfolio:null},a.a=r.a.memo(H)},3700:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"galleryOwnerLegacyId",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"gallerySize",type:"Int",defaultValue:null}],a=[{kind:"Variable",name:"first",variableName:"gallerySize"},{kind:"Variable",name:"galleryOwnerLegacyId",variableName:"galleryOwnerLegacyId"}],n={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"canonicalPath",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"notSafeForWork",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"buttonName",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"externalUrl",args:null,storageKey:null},u=[{kind:"Literal",name:"sizes",value:[33,32]}],d={kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"webpUrl",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"jpegUrl",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"photos",storageKey:null,args:null,concreteType:"PhotoConnectionForPhotosOnGallery",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null}]},y={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AdditionalGalleriesRendererQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"additionalGalleries",name:"galleries",storageKey:null,args:a,concreteType:"GalleryConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GalleryEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Gallery",plural:!1,selections:[n,l,t,r,i,o,s,c,{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32])",args:u,concreteType:"PhotoResizeImage",plural:!0,selections:[d,g,m]}]},p]}]}]}]},operation:{kind:"Operation",name:"AdditionalGalleriesRendererQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"additionalGalleries",name:"galleries",storageKey:null,args:a,concreteType:"GalleryConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GalleryEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Gallery",plural:!1,selections:[n,l,t,r,i,o,s,c,{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32])",args:u,concreteType:"PhotoResizeImage",plural:!0,selections:[d,g,m,y]},y]},p,y]}]}]}]},params:{operationKind:"query",name:"AdditionalGalleriesRendererQuery",id:null,text:"query AdditionalGalleriesRendererQuery(\n  $galleryOwnerLegacyId: ID!\n  $gallerySize: Int\n) {\n  additionalGalleries: galleries(galleryOwnerLegacyId: $galleryOwnerLegacyId, first: $gallerySize) {\n    edges {\n      node {\n        legacyId\n        description\n        name\n        privacy\n        canonicalPath\n        notSafeForWork\n        buttonName\n        externalUrl\n        cover {\n          images(sizes: [33, 32]) {\n            size\n            webpUrl\n            jpegUrl\n            id\n          }\n          id\n        }\n        photos {\n          totalCount\n        }\n        id\n      }\n    }\n  }\n}\n",metadata:{}}}}();l.hash="d5e268a94ef46a514cde9a89c1b7da9f",e.exports=l},3701:function(e,a,n){"use strict";var l=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"notSafeForWork",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"canonicalPath",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"webpUrl",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null};return{kind:"Fragment",name:"GalleriesDetailPaginationContainer_gallery",type:"Gallery",metadata:{connection:[{count:"pageSize",cursor:"cursor",direction:"forward",path:["photos"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"cursor",type:"String",defaultValue:null},{kind:"LocalArgument",name:"pageSize",type:"Int",defaultValue:20},{kind:"LocalArgument",name:"showNude",type:"Boolean",defaultValue:null}],selections:[e,a,n,{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"ownPhotosOnly",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"publicSlug",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"lastPublishedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"photosAddedSinceLastPublished",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportStatus",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a]},{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,36,2048])",args:[{kind:"Literal",name:"sizes",value:[33,32,36,2048]}],concreteType:"PhotoResizeImage",plural:!0,selections:[r,i,o]}]},s,{kind:"ScalarField",alias:null,name:"externalUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"buttonName",args:null,storageKey:null},{kind:"LinkedField",alias:"photos",name:"__Gallery_photos_connection",storageKey:null,args:[{kind:"Variable",name:"showNude",variableName:"showNude"}],concreteType:"PhotoConnectionForPhotosOnGallery",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdgeForPhotosOnGallery",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[e,a,t,n,s,{kind:"ScalarField",alias:null,name:"category",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uploadedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isLikedByMe",args:null,storageKey:null},l,{kind:"LinkedField",alias:"photographer",name:"uploader",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,a,{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"displayName",args:null,storageKey:null},t,{kind:"LinkedField",alias:null,name:"avatar",storageKey:null,args:null,concreteType:"UserAvatar",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:'images(sizes:"SMALL")',args:[{kind:"Literal",name:"sizes",value:"SMALL"}],concreteType:"UserAvatarResizeImage",plural:!0,selections:[r]}]},{kind:"LinkedField",alias:null,name:"followedBy",storageKey:null,args:null,concreteType:"FollowedByUsers",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"isFollowedByMe",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32])",args:[{kind:"Literal",name:"sizes",value:[33,32]}],concreteType:"PhotoResizeImage",plural:!0,selections:[i,r,o]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();l.hash="89e31b9af9182a0c99de33ee1012e379",e.exports=l},3702:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"ownerLegacyId",type:"String",defaultValue:null},{kind:"LocalArgument",name:"slug",type:"String",defaultValue:null},{kind:"LocalArgument",name:"token",type:"String",defaultValue:null},{kind:"LocalArgument",name:"pageSize",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"String",defaultValue:null},{kind:"LocalArgument",name:"showNude",type:"Boolean",defaultValue:null}],a=[{kind:"Variable",name:"ownerLegacyId",variableName:"ownerLegacyId"},{kind:"Variable",name:"slug",variableName:"slug"},{kind:"Variable",name:"token",variableName:"token"}],n={kind:"Variable",name:"showNude",variableName:"showNude"},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"notSafeForWork",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"canonicalPath",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"webpUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},g=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"pageSize"},n],m={kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"GalleriesDetailPaginationContainerQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"galleryByOwnerIdAndSlugOrToken",storageKey:null,args:a,concreteType:"Gallery",plural:!1,selections:[{kind:"FragmentSpread",name:"GalleriesDetailPaginationContainer_gallery",args:[{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"pageSize",variableName:"pageSize"},n]}]}]},operation:{kind:"Operation",name:"GalleriesDetailPaginationContainerQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"galleryByOwnerIdAndSlugOrToken",storageKey:null,args:a,concreteType:"Gallery",plural:!1,selections:[l,t,r,{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"ownPhotosOnly",args:null,storageKey:null},o,{kind:"ScalarField",alias:null,name:"publicSlug",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"lastPublishedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"photosAddedSinceLastPublished",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportStatus",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l]},{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,36,2048])",args:[{kind:"Literal",name:"sizes",value:[33,32,36,2048]}],concreteType:"PhotoResizeImage",plural:!0,selections:[s,c,u,l]},l]},d,{kind:"ScalarField",alias:null,name:"externalUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"buttonName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"photos",storageKey:null,args:g,concreteType:"PhotoConnectionForPhotosOnGallery",plural:!1,selections:[m,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdgeForPhotosOnGallery",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[l,t,o,r,d,{kind:"ScalarField",alias:null,name:"category",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uploadedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isLikedByMe",args:null,storageKey:null},i,{kind:"LinkedField",alias:"photographer",name:"uploader",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,t,{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"displayName",args:null,storageKey:null},o,{kind:"LinkedField",alias:null,name:"avatar",storageKey:null,args:null,concreteType:"UserAvatar",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:'images(sizes:"SMALL")',args:[{kind:"Literal",name:"sizes",value:"SMALL"}],concreteType:"UserAvatarResizeImage",plural:!0,selections:[s,l]},l]},{kind:"LinkedField",alias:null,name:"followedBy",storageKey:null,args:null,concreteType:"FollowedByUsers",plural:!1,selections:[m,{kind:"ScalarField",alias:null,name:"isFollowedByMe",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32])",args:[{kind:"Literal",name:"sizes",value:[33,32]}],concreteType:"PhotoResizeImage",plural:!0,selections:[c,s,u,l]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"photos",args:g,handle:"connection",key:"Gallery_photos",filters:["showNude"]}]}]},params:{operationKind:"query",name:"GalleriesDetailPaginationContainerQuery",id:null,text:"query GalleriesDetailPaginationContainerQuery(\n  $ownerLegacyId: String\n  $slug: String\n  $token: String\n  $pageSize: Int\n  $cursor: String\n  $showNude: Boolean\n) {\n  galleryByOwnerIdAndSlugOrToken(ownerLegacyId: $ownerLegacyId, slug: $slug, token: $token) {\n    ...GalleriesDetailPaginationContainer_gallery_1Qx2SI\n    id\n  }\n}\n\nfragment GalleriesDetailPaginationContainer_gallery_1Qx2SI on Gallery {\n  id\n  legacyId\n  name\n  privacy\n  notSafeForWork\n  ownPhotosOnly\n  canonicalPath\n  publicSlug\n  lastPublishedAt\n  photosAddedSinceLastPublished\n  reportStatus\n  creator {\n    legacyId\n    id\n  }\n  cover {\n    images(sizes: [33, 32, 36, 2048]) {\n      url\n      size\n      webpUrl\n      id\n    }\n    id\n  }\n  description\n  externalUrl\n  buttonName\n  photos(first: $pageSize, after: $cursor, showNude: $showNude) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        legacyId\n        canonicalPath\n        name\n        description\n        category\n        uploadedAt\n        location\n        width\n        height\n        isLikedByMe\n        notSafeForWork\n        photographer: uploader {\n          id\n          legacyId\n          username\n          displayName\n          canonicalPath\n          avatar {\n            images(sizes: SMALL) {\n              url\n              id\n            }\n            id\n          }\n          followedBy {\n            totalCount\n            isFollowedByMe\n          }\n        }\n        images(sizes: [33, 32]) {\n          size\n          url\n          webpUrl\n          id\n        }\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n",metadata:{}}}}();l.hash="6642dd379187104c0ee1eae73e291506",e.exports=l},3703:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"ownerLegacyId",type:"String",defaultValue:null},{kind:"LocalArgument",name:"slug",type:"String",defaultValue:null},{kind:"LocalArgument",name:"token",type:"String",defaultValue:null},{kind:"LocalArgument",name:"pageSize",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"showNude",type:"Boolean",defaultValue:null}],a=[{kind:"Variable",name:"ownerLegacyId",variableName:"ownerLegacyId"},{kind:"Variable",name:"slug",variableName:"slug"},{kind:"Variable",name:"token",variableName:"token"}],n={kind:"Variable",name:"showNude",variableName:"showNude"},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"notSafeForWork",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"canonicalPath",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"webpUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},g=[{kind:"Variable",name:"first",variableName:"pageSize"},n],m={kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"GalleriesDetailQueryRendererQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"gallery",name:"galleryByOwnerIdAndSlugOrToken",storageKey:null,args:a,concreteType:"Gallery",plural:!1,selections:[{kind:"FragmentSpread",name:"GalleriesDetailPaginationContainer_gallery",args:[{kind:"Variable",name:"pageSize",variableName:"pageSize"},n]}]}]},operation:{kind:"Operation",name:"GalleriesDetailQueryRendererQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"gallery",name:"galleryByOwnerIdAndSlugOrToken",storageKey:null,args:a,concreteType:"Gallery",plural:!1,selections:[l,t,r,{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"ownPhotosOnly",args:null,storageKey:null},o,{kind:"ScalarField",alias:null,name:"publicSlug",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"lastPublishedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"photosAddedSinceLastPublished",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportStatus",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l]},{kind:"LinkedField",alias:null,name:"cover",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,36,2048])",args:[{kind:"Literal",name:"sizes",value:[33,32,36,2048]}],concreteType:"PhotoResizeImage",plural:!0,selections:[s,c,u,l]},l]},d,{kind:"ScalarField",alias:null,name:"externalUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"buttonName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"photos",storageKey:null,args:g,concreteType:"PhotoConnectionForPhotosOnGallery",plural:!1,selections:[m,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdgeForPhotosOnGallery",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[l,t,o,r,d,{kind:"ScalarField",alias:null,name:"category",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uploadedAt",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isLikedByMe",args:null,storageKey:null},i,{kind:"LinkedField",alias:"photographer",name:"uploader",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,t,{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"displayName",args:null,storageKey:null},o,{kind:"LinkedField",alias:null,name:"avatar",storageKey:null,args:null,concreteType:"UserAvatar",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"images",storageKey:'images(sizes:"SMALL")',args:[{kind:"Literal",name:"sizes",value:"SMALL"}],concreteType:"UserAvatarResizeImage",plural:!0,selections:[s,l]},l]},{kind:"LinkedField",alias:null,name:"followedBy",storageKey:null,args:null,concreteType:"FollowedByUsers",plural:!1,selections:[m,{kind:"ScalarField",alias:null,name:"isFollowedByMe",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32])",args:[{kind:"Literal",name:"sizes",value:[33,32]}],concreteType:"PhotoResizeImage",plural:!0,selections:[c,s,u,l]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"photos",args:g,handle:"connection",key:"Gallery_photos",filters:["showNude"]}]}]},params:{operationKind:"query",name:"GalleriesDetailQueryRendererQuery",id:null,text:"query GalleriesDetailQueryRendererQuery(\n  $ownerLegacyId: String\n  $slug: String\n  $token: String\n  $pageSize: Int\n  $showNude: Boolean\n) {\n  gallery: galleryByOwnerIdAndSlugOrToken(ownerLegacyId: $ownerLegacyId, slug: $slug, token: $token) {\n    ...GalleriesDetailPaginationContainer_gallery_15zZXN\n    id\n  }\n}\n\nfragment GalleriesDetailPaginationContainer_gallery_15zZXN on Gallery {\n  id\n  legacyId\n  name\n  privacy\n  notSafeForWork\n  ownPhotosOnly\n  canonicalPath\n  publicSlug\n  lastPublishedAt\n  photosAddedSinceLastPublished\n  reportStatus\n  creator {\n    legacyId\n    id\n  }\n  cover {\n    images(sizes: [33, 32, 36, 2048]) {\n      url\n      size\n      webpUrl\n      id\n    }\n    id\n  }\n  description\n  externalUrl\n  buttonName\n  photos(first: $pageSize, showNude: $showNude) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        legacyId\n        canonicalPath\n        name\n        description\n        category\n        uploadedAt\n        location\n        width\n        height\n        isLikedByMe\n        notSafeForWork\n        photographer: uploader {\n          id\n          legacyId\n          username\n          displayName\n          canonicalPath\n          avatar {\n            images(sizes: SMALL) {\n              url\n              id\n            }\n            id\n          }\n          followedBy {\n            totalCount\n            isFollowedByMe\n          }\n        }\n        images(sizes: [33, 32]) {\n          size\n          url\n          webpUrl\n          id\n        }\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n",metadata:{}}}}();l.hash="67474f092a0597e05ff86483f833d0b4",e.exports=l},3869:function(e,a,n){"use strict";n.r(a);var l=n(103),t=n(0),r=n.n(t),i=n(37),o=n(473),s=n(474),c=n(9),u=n(101),d=n.n(u),g=n(8),m=n(14),p=n(13),y=n(291),f=n.n(y),h=n(2044),v=n.n(h),b=n(5),k=n(113),w=n(373),E=n.n(w),I=n(2069),S=n(475),P=n(118),O=n(90),x=n(169),F=n(2074),L=n(2042),_=n(2045),C=n(2052),T=n(2196),N=n(77),K=n(167),j=n.n(K),M=n(2053),A=n.n(M),R=n(2160),B=n(54),G=n(6),z=n(33),D=n(28),U=n.n(D),V=n(11),W=n(56),H=n.n(W),Q=n(2172),$=n(2202),q=function(e){var a=e.currentUserMembership,n=e.galleryLegacyId,l=e.initialPhotoCanonicalPath,i=e.isAdmin,o=Object(t.useState)(!1),s=Object(p.a)(o,2),c=s[0],u=s[1],d=Object(t.useRef)(null),g="PRO"===a.tier||"AWESOME"===a.tier||i,m="PRO"===a.tier;return r.a.createElement($.g,{flex:!0,align:"center",justify:"center",ml:"xl"},g?r.a.createElement(r.a.Fragment,null,r.a.createElement($.i,{to:{pathname:l,state:{serviceName:"GALLERY",serviceLegacyId:n,initSlideshow:!0}}},r.a.createElement(U.a,{size:"sm",svg:"play"}),r.a.createElement(V.Paragraph,{active:!0,mx:"sm"},r.a.createElement(G.FormattedMessage,{id:"gallery.slideshow.label"}))),r.a.createElement(Q.a,{withIcon:!0,isPro:m})):r.a.createElement(z.Popover,{arrow:!0,attr:{"aria-label":"slideshow-controls-popover"},id:"slideshow-controls-popover",popoverNestedRole:"dialog",render:r.a.createElement(b.Box,{px:"sm",py:"xs"},r.a.createElement(b.Box,{flex:!0},r.a.createElement($.h,{size:"sm",svg:"slideshow"}),r.a.createElement(V.Paragraph,{mediumGrey:!0,ml:"sm",mr:"36px"},r.a.createElement(G.FormattedMessage,{id:"gallery.slideshow.popover.title"})),r.a.createElement(Q.a,{isPro:!0,withIcon:!0})),r.a.createElement(V.Paragraph,{mt:"xs"},r.a.createElement(G.FormattedMessage,{id:"gallery.slideshow.popover.body"}),"\xa0",r.a.createElement(H.a,{defaultColor:!0,href:"/upgrade"},r.a.createElement(G.FormattedMessage,{id:"gallery.slideshow.popover.link"})))),show:c,triggerRef:d,triggerShow:function(){return u(!0)},width:"251px",onClickout:function(){return u(!1)}},r.a.createElement(b.Box,{ref:d,flex:!0,pointer:!0,cursor:"pointer",onMouseEnter:function(){return u(!0)}},r.a.createElement(U.a,{size:"sm",svg:"play"}),r.a.createElement(V.Paragraph,{mx:"sm"},r.a.createElement(G.FormattedMessage,{id:"gallery.slideshow.label"})),r.a.createElement(U.a,{size:"sm",svg:"chevronDown"}))))};q.defaultProps={currentUserMembership:{},isAdmin:!1};var X=q,Y=function(){var e=Object(t.useState)(!0),a=Object(p.a)(e,2),n=a[0],l=a[1],i=!localStorage.getItem("gallery-detail-dragdrop-dismiss");return r.a.createElement(r.a.Fragment,null,n&&i&&r.a.createElement($.d,{flex:!0,align:"center",p:"sm",bgColor:"lightBlue"},r.a.createElement(b.Box,{mr:"sm"},r.a.createElement(U.a,{svg:"reposition",size:"sm",style:{transform:"rotateZ(45deg)"}})),r.a.createElement(V.Paragraph,null,r.a.createElement(G.FormattedMessage,{id:"gallery.reorder.info",values:{cta:r.a.createElement(H.a,{defaultColor:!0,onClick:function(){l(!1),localStorage.setItem("gallery-detail-dragdrop-dismiss",!0)}},r.a.createElement(G.FormattedMessage,{id:"cta.got_it"}))}}))))},Z=function(e){var a=e.currentUserMembership,n=e.galleryLegacyId,l=e.initialPhotoCanonicalPath,t=e.isAdmin,i=e.isViewingOwnProfile;return r.a.createElement(j.a.Medium,{orLarger:!0},r.a.createElement($.j,{flex:!0,justify:"start"},r.a.createElement(X,{currentUserMembership:a,galleryLegacyId:n,initialPhotoCanonicalPath:l,isAdmin:t}),i&&r.a.createElement(Y,null)))};Z.defaultProps={currentUserMembership:{},isAdmin:!1,isViewingOwnProfile:!1};var J=Z,ee=n(213),ae=n(2157),ne=function(){return r.a.createElement(b.Box,{flex:!0,align:"center",mb:"xs"},r.a.createElement(U.a,{size:"xs",svg:"lock"}),r.a.createElement(V.Paragraph,{clampedSingleLine:!0,small:!0,ml:"xxs"},r.a.createElement(G.FormattedMessage,{id:"profile.visibility.only_me"})))},le=n(2363),te=function(e){var a,n,l=e.gallery,t=e.isViewingOwnProfile,i=e.profile;l.externalUrl&&(a=l.externalUrl,n=l.buttonName?l.buttonName:l.externalUrl);var o,s=t&&(null===l||void 0===l?void 0:l.privacy)===_.c.PRIVATE,c=Object(P.d)(null===l||void 0===l?void 0:l.description);return r.a.createElement(b.Box,{column:!0,flex:!0,align:"center"},r.a.createElement(V.HeadingSmall,{align:"center",mb:"xs"},l.name),s&&r.a.createElement(ne,null),r.a.createElement(le.a,{centeredText:!0,boxSpacing:{mb:"xs"},text:c}),a&&r.a.createElement(H.a,{href:(o=a,o.includes("http")?a:"//".concat(a)),mb:"xs",rel:"noopener noreferrer",target:"_blank"},n),r.a.createElement(ae.a,{smallAvatar:!0,avatar:i.avatar,profileCanonicalPath:"/p".concat(i.canonicalPath)}),r.a.createElement(V.Paragraph,{my:"xs"},r.a.createElement(G.FormattedMessage,{id:"gallery.curated_by"}),"\xa0",r.a.createElement(ee.Link,{defaultColor:!0,to:"/p".concat(i.canonicalPath)},i.displayName)))};te.defaultProps={isViewingOwnProfile:!1};var re=te,ie=n(2364),oe=n(102),se=n.n(oe),ce=n(152),ue=function(e){var a,n,l=e.gallery;if(!e.isViewingOwnProfile)return null;var i=Object(t.createRef)(null),o=l.privacy===_.c.PUBLIC,s=se.a.utc(l.lastPublishedAt),c=s.isValid(),u=c?l.photosAddedSinceLastPublished>=4:(null===(a=l.photos)||void 0===a||null===(n=a.edges)||void 0===n?void 0:n.length)>=4,d=c&&se.a.utc().diff(s,"days")>=7;if(c&&!d)return null;var g=function(e){return r.a.createElement($.b,{small:!0,tertiary:!0,message:r.a.createElement(G.FormattedMessage,{id:e}),onClick:function(){var e;return null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.showModal()}})},m=function(){Object(B.a)({messageId:"gallery.homefeed.publish.success",duration:2.5})},p=function(){Object(B.a)({messageId:"error.general.title",duration:2.5,type:"error"})};return o?r.a.createElement(b.Box,{flex:!0,justify:"center"},r.a.createElement($.e,{flex:!0,align:"center",p:"sm"},r.a.createElement(U.a,{size:"sm",svg:"homeFeed"}),r.a.createElement(b.Box,{pl:"sm"},function(){var e;return c?d&&(e=u?r.a.createElement(V.Paragraph,null,r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.banner.photos_added",values:{moreThanMin:l.photosAddedSinceLastPublished>4?"true":"false"}}),"\xa0",g("gallery.homefeed.banner.repost"),"\xa0",r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.banner.share"})):r.a.createElement(V.Paragraph,null,r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.banner.repost_after"}))):e=u?r.a.createElement(V.Paragraph,null,g("gallery.homefeed.banner.post"),"\xa0",r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.banner.share"})):r.a.createElement(V.Paragraph,null,r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.banner.post_after"})),e}())),r.a.createElement(ce.Modal,{ref:i,dialog:!0,masked:!0,buttons:{cancelMessage:"cta.cancel",primaryMessage:"cta.post",primaryType:"submit",primaryOnClick:function(){return Object(O.G)({galleryLegacyId:l.legacyId,galleryDataId:l.id,onCompleted:m,onError:p})},position:"center"},titleMessageId:"gallery.homefeed.modal.title"},r.a.createElement(V.Paragraph,{center:!0},r.a.createElement(G.FormattedMessage,{id:"gallery.homefeed.modal.body"})))):null};ue.defaultProps={isViewingOwnProfile:!1};var de=ue,ge=function(e){var a,n,l=e.currentUserMembership,o=e.gallery,s=e.hasPhotos,c=e.initialPhotoCanonicalPath,u=e.isAdmin,d=e.isViewingOwnProfile,g=e.loggedIn,y=e.profile,f=Object(t.useState)(!!localStorage.getItem("hasbeenreported-".concat(null===o||void 0===o?void 0:o.name))),h=Object(p.a)(f,2),v=h[0],w=h[1],E=Object(N.useMediaQuery)({query:"(max-width: ".concat(j.a.widths.medium,"px)")}),I=Object(t.useContext)(i.a).webpSupported,S="";if((null===o||void 0===o||null===(a=o.cover)||void 0===a||null===(n=a.images)||void 0===n?void 0:n.length)>0){var F,L=E?x.a.MAX_2000:x.a.MAX_2048,C=Object(k.getImageDataBySize)(null===o||void 0===o||null===(F=o.cover)||void 0===F?void 0:F.images,L);S=Object(P.l)(C,I)}var T=o.privacy===_.c.PRIVATE?o.canonicalPath:"/p".concat(o.canonicalPath),K=function(){return Object(B.a)({messageId:"galllery.message.reported.error",duration:3})},M=function(){Object(B.a)({messageId:"gallery.message.reported",duration:3}),localStorage.setItem("hasbeenreported-".concat(null===o||void 0===o?void 0:o.name),!0),w(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.Box,{fullWidth:!0,mb:"lg",position:"relative"},r.a.createElement(A.a,{fullWidth:!0,noMargin:!0,noWave:!0,bgColor:"veryDarkGrey",headerHeight:{mobile:200,medium:370,large:370,desktop:370},headerImg:S})),r.a.createElement(b.Container,null,r.a.createElement(b.Box,{mb:"lg"},r.a.createElement(ie.a,{galleryReport:!0,canonicalPath:T,coverPhotoUrl:S,displayName:null===y||void 0===y?void 0:y.displayName,galleryLegacyId:o.legacyId,galleryTitle:o.name,handleReport:function(e){var a=Object(m.a)({},e,{galleryLegacyId:null===o||void 0===o?void 0:o.legacyId,galleryOwnerLegacyId:null===y||void 0===y?void 0:y.legacyId});Object(O.B)(a,M,K)},isAdmin:u,isPrivateGallery:o.privacy===_.c.PRIVATE,isReported:v,isViewingOwnProfile:d,legacyId:null===y||void 0===y?void 0:y.legacyId,loggedIn:g,sharingFunction:R.b,username:null===y||void 0===y?void 0:y.username}),r.a.createElement(re,{gallery:o,isViewingOwnProfile:d,profile:y}),r.a.createElement(de,{gallery:o,isViewingOwnProfile:d}))),g&&s&&r.a.createElement(J,{currentUserMembership:l,galleryLegacyId:o.legacyId,initialPhotoCanonicalPath:c,isAdmin:u,isViewingOwnProfile:d}))};ge.defaultProps={currentUserMembership:{},hasPhotos:!1,initialPhotoCanonicalPath:null,isAdmin:!1,isViewingOwnProfile:!1,loggedIn:!1};var me=ge,pe=n(2229),ye=function(e){var a=e.myPhotosCount,n=e.galleryLegacyId,l=Object(t.useRef)(null),i=function(){return Object(B.a)({messageId:"gallery.add_photo_modal.success",duration:2})},o=function(){return Object(B.a)({messageId:"gallery.add_photo_modal.error",type:"error",duration:2})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{ref:l,canMultiselect:!0,handleSelection:function(e){var a=e.selectedPhotoIds;a&&Object(O.g)({photoLegacyIds:a,galleryLegacyId:n},i,o)},modalIds:{title:"gallery.add_photo_modal.title",primaryCta:"gallery.add_photo_modal.cta"},emptyStateIds:{title:"gallery.add_photo_modal.empty.title",subtitle:"gallery.add_photo_modal.empty.subtitle"}}),r.a.createElement(b.Box,{bgColor:"lighterGrey",p:"sm",pt:"xl",pb:"xxl",flex:!0,column:!0,center:!0},r.a.createElement(U.a,{mb:"sm",svg:"addToGallery",size:"lg"}),r.a.createElement(V.HeadingSmall,null,r.a.createElement(G.FormattedMessage,{id:"gallery.empty_state.title"})),r.a.createElement(b.Box,{my:"sm"},r.a.createElement($.a,{textAlign:"center"},r.a.createElement(G.FormattedMessage,{id:"gallery.empty_state.text"}))),r.a.createElement(b.Box,{mb:"xs"},r.a.createElement($.c,{secondary:!0,href:"/editors",message:"gallery.empty_state.button1"})),a>0&&r.a.createElement(b.Box,null,r.a.createElement($.c,{secondary:!0,onClick:function(){var e;return null===l||void 0===l||null===(e=l.current)||void 0===e?void 0:e.showModal()},message:"gallery.empty_state.button2"}))))};ye.defaultProps={myPhotosCount:0};var fe=ye,he=function(){return r.a.createElement(b.Box,{flex:!0,center:!0,column:!0,fullWidth:!0,py:"xl",px:"sm"},r.a.createElement(b.Box,{mb:"sm"},r.a.createElement(U.a,{svg:"error",size:"lg"})),r.a.createElement(b.Box,{flex:!0,column:!0,center:!0,fullWidth:!0},r.a.createElement(V.HeadingSmall,null,r.a.createElement(G.FormattedMessage,{id:"error.gallery_missing.title"}))))},ve=n(2193),be=n(15),ke=n(2245),we=n(2230),Ee=function(e){var a,n=e.additionalUserGalleries,l=e.callbackRef,t=e.currentGalleryLegacyId,i=e.displayName,o=null===n||void 0===n||null===(a=n.edges)||void 0===a?void 0:a.filter((function(e){var a,n,l=e.node;return l.privacy===_.c.PUBLIC&&l.legacyId!==t&&(null===l||void 0===l||null===(a=l.cover)||void 0===a||null===(n=a.images)||void 0===n?void 0:n.length)>0})),s=[];if(8>o.length)s.push.apply(s,Object(be.a)(o));else for(var c=0;c<8;c++){var u=Object(P.w)(0,o.length-1),d=o.splice(u,1);s.push.apply(s,Object(be.a)(d))}return s.length?r.a.createElement(b.Box,{ref:l,my:"lg"},r.a.createElement(b.Box,{my:"md"},r.a.createElement(ke.a,null)),r.a.createElement(V.HeadingSmall,{center:!0,py:"lg"},r.a.createElement(G.FormattedMessage,{id:"gallery.curated_by_user",values:{displayName:i}})),r.a.createElement(b.Box,{center:!0,flex:!0,flexWrap:!0},s.map((function(e){var a=e.node;return(null===a||void 0===a?void 0:a.cover)?r.a.createElement(we.a,{key:"additional-gallery-card-".concat(a.legacyId),white:!0,draggable:!1,gallery:a,height:"324",m:"xs",showPrivacy:!1,username:i,width:"316"}):null})))):null};Ee.defaultProps={additionalUserGalleries:{edges:[]},callbackRef:function(){},displayName:""};var Ie,Se=Ee,Pe=function(e){var a=e.galleryOwnerLegacyId,t=Object(l.a)(e,["galleryOwnerLegacyId"]);return r.a.createElement(c.QueryRenderer,{environment:g.f,query:void 0!==Ie?Ie:Ie=n(3700),render:function(e){var a=e.error,n=e.props;if(!n)return r.a.createElement(d.a,null);if(a)return new Error(a);var l=n.additionalGalleries;return r.a.createElement(Se,Object.assign({additionalUserGalleries:l},t))},variables:{galleryOwnerLegacyId:a,gallerySize:25}})};Pe.defaultProps={additionalGalleries:{edges:[]}};var Oe=Pe,xe=n(498),Fe=n.n(xe),Le=n(824),_e=n.n(Le),Ce=n(138),Te=n(2361),Ne=function(e){var a=e.galleryDescription,n=e.galleryLegacyId,l=e.galleryName,i=e.galleryPrivacy,o=e.photoLegacyId,s=Object(t.useRef)(null),c=function(){Object(B.a)({messageId:"gallery.photo.overflow.remove.success",type:"success"})},u=function(){Object(B.a)({messageId:"gallery.update.success_msg",type:"success"})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.PopoverLink,{fullWidth:!0,as:"span",iconSrc:_e.a,role:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(Te.a)({legacyId:n,name:l,description:Object(P.d)(a),coverPhotoId:o,privacy:i},u)}},r.a.createElement(G.FormattedMessage,{id:"gallery.photo.overflow.cover"})),r.a.createElement(z.PopoverLink,{fullWidth:!0,as:"span",iconSrc:Fe.a,role:"button",onClick:function(e){var a,n;e.preventDefault(),e.stopPropagation(),null===s||void 0===s||null===(a=s.current)||void 0===a||null===(n=a.showModal)||void 0===n||n.call(a)}},r.a.createElement(G.FormattedMessage,{id:"gallery.photo.overflow.remove"})),r.a.createElement(ce.Modal,{ref:s,dialog:!0,fullWidth:!0,secondary:!0,buttons:{cancelMessage:"cta.cancel",cancelOnClick:function(){var e,a;return null===s||void 0===s||null===(e=s.current)||void 0===e||null===(a=e.closeModal)||void 0===a?void 0:a.call(e)},primaryMessage:"cta.remove",primaryOnClick:function(){return Object(Ce.d)(o,n,c)},primaryType:"danger",direction:"column"},id:"remove-photo-modal",svg:"warning",titleMessageId:"galleries.remove_photo.title"},r.a.createElement(ce.ModalContentPadding,null,r.a.createElement(V.Paragraph,{center:!0},r.a.createElement(G.FormattedMessage,{id:"galleries.remove_photo.body",values:{galleryName:l}})))))},Ke=function(e){var a=e.galleryLegacyId,n=e.photoLegacyId,l=function(){Object(B.a)({messageId:"gallery.photo.overflow.remove.success",type:"success"})};return r.a.createElement(z.PopoverLink,{fullWidth:!0,as:"span",iconSrc:Fe.a,role:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(Ce.d)(n,a,l)}},r.a.createElement(G.FormattedMessage,{id:"gallery.photo.overflow.remove"}))},je=function(e){var a,n,l,o,s,c,u,d=e.currentUserMembership,g=e.gallery,m=e.galleryOwnerLegacyId,y=e.isAdmin,h=e.isViewingOwnProfile,w=e.loggedIn,N=e.myPhotosCount,K=e.profile,j=e.relay;if(null===g)return r.a.createElement(he,null);var M=g.photos,A=(null===M||void 0===M||null===(a=M.edges)||void 0===a?void 0:a.length)>0,R=Object(P.s)()?x.a.GRID_600:x.a.GRID_300,B=Object(I.a)(),G=Object(p.a)(B,2),z=G[0],D=G[1],U=Object(t.useContext)(i.a).webpSupported,V=h?r.a.createElement(fe,{galleryLegacyId:g.legacyId,myPhotosCount:N}):r.a.createElement(ve.a,{displayName:K.displayName,tab:"gallery"}),W=(null===g||void 0===g?void 0:g.privacy)===_.c.PRIVATE?null===g||void 0===g?void 0:g.canonicalPath:"/p".concat(null===g||void 0===g?void 0:g.canonicalPath),H=(null===g||void 0===g||null===(n=g.cover)||void 0===n||null===(l=n.images)||void 0===l?void 0:l.length)>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,Object(L.l)({galleryTitle:(null===g||void 0===g?void 0:g.name)||"",displayName:(null===K||void 0===K?void 0:K.displayName)||"",username:(null===K||void 0===K?void 0:K.username)||"",coverImageUrl:H?null===(o=Object(k.getImageDataBySize)(null===g||void 0===g||null===(s=g.cover)||void 0===s?void 0:s.images,36))||void 0===o?void 0:o.url:"",twitterHandle:(null===K||void 0===K?void 0:K.socialMedia.twitter)||null,canonicalUrl:"".concat("https://500px.com").concat(W)})),r.a.createElement(me,{currentUserMembership:d,gallery:g,hasPhotos:A,initialPhotoCanonicalPath:null===M||void 0===M||null===(c=M.edges[0])||void 0===c||null===(u=c.node)||void 0===u?void 0:u.canonicalPath,isAdmin:y,isViewingOwnProfile:h,loggedIn:w,profile:K}),r.a.createElement(b.Box,{bgColor:"lighterGrey",p:"sm",pb:"xl",pt:"xs"},A?r.a.createElement(f.a,{dataLength:M.edges.length,hasMore:function(){return j.hasMore()},loader:null,next:function(){j.hasMore()&&!j.isLoading()&&j.loadMore(20,(function(e){e&&console.log("Error loading more",e)}))},scrollThreshold:z?"".concat(1300+(null===z||void 0===z?void 0:z.offsetHeight),"px"):"1300px",style:{overflow:"hidden"}},r.a.createElement(E.a,{onReorder:h?function(e){var a=e.after,n=e.id;if(n&&a&&n!==a){var l,t,r;if(n===(null===(l=M.edges)||void 0===l||null===(t=l[0])||void 0===t||null===(r=t.node)||void 0===r?void 0:r.legacyId)&&"0position"===a)return;var i="0position"===a?null:a.toString();Object(O.K)(g.legacyId.toString(),i,n.toString(),g.id,{showNude:!0})}}:null},M.edges.map((function(e,a){var n=e.node,l=Object(k.getImageDataBySize)(n.images,R),t=Object(P.l)(l,U);return r.a.createElement(S.a,Object.assign({},n,{key:n.id,addToGalleryButton:!0,canShowAdminNsfw:!0,justifiedGrid:!0,likeButton:!0,linkPhotoPage:!0,showNudeButton:!0,alt:n.name,firstHalfReferenceIdNull:0===a,linkPhotoPageState:{serviceName:T.a.GALLERY,serviceLegacyId:g.legacyId,cursor:e.cursor,firstCursor:M.edges[0].cursor,photoPageSource:C.a.galleries},overflowErrorMenuItems:h?r.a.createElement(Ke,{galleryLegacyId:g.legacyId,photoLegacyId:n.legacyId}):null,overflowMenuAriaLabel:"Gallery Management Menu",overflowMenuItems:h?r.a.createElement(Ne,{galleryDescription:g.description,galleryLegacyId:g.legacyId,galleryName:g.name,galleryPrivacy:g.privacy,photoLegacyId:n.legacyId}):null,photo:n,src:t,title:n.name}))})).concat(j.hasMore()?Object(F.a)(4):[])),!h&&r.a.createElement(Oe,{callbackRef:D,currentGalleryLegacyId:g.legacyId,displayName:K.displayName,galleryOwnerLegacyId:m})):V))};je.defaultProps={currentUserMembership:{tier:void 0,photoUploadQuota:void 0,refreshPhotoUploadQuotaAt:void 0},isViewingOwnProfile:!1,loggedIn:!1,myPhotosCount:null};var Me,Ae,Re,Be=je,Ge=Object(c.createPaginationContainer)(Be,{gallery:void 0!==Me?Me:Me=n(3701)},{direction:"forward",getConnectionFromProps:function(e){return e.gallery&&e.gallery.photos},getVariables:function(e,a,n){var l=a.count,t=a.cursor;return{ownerLegacyId:n.ownerLegacyId,slug:n.slug,token:n.token,pageSize:n.pageSize,showNude:n.showNude,count:l,cursor:t}},getFragmentVariables:function(e,a){return Object(m.a)({},e,{count:a})},query:void 0!==Ae?Ae:Ae=n(3702)}),ze=function(e){var a=e.currentUserMembership,l=e.galleryOwnerLegacyId,t=e.galleryPublicSlug,i=e.isAdmin,o=e.isViewingOwnProfile,s=e.loggedIn,u=e.myPhotosCount,m=e.profile,p=e.token;return r.a.createElement(c.QueryRenderer,{environment:g.f,query:void 0!==Re?Re:Re=n(3703),render:function(e){var n=e.error,t=e.props;if(!t)return r.a.createElement(d.a,null);if(n)return new Error(n);var c=t.gallery;return r.a.createElement(Ge,{currentUserMembership:a,gallery:c,galleryOwnerLegacyId:l,isAdmin:i,isViewingOwnProfile:o,loggedIn:s,myPhotosCount:u,profile:m})},variables:{pageSize:20,slug:t,ownerLegacyId:l,token:p,showNude:s}})};ze.defaultProps={currentUserMembership:{},galleryOwnerLegacyId:null,galleryPublicSlug:null,isAdmin:!1,isViewingOwnProfile:!1,loggedIn:!1,myPhotosCount:null,token:null};var De=ze,Ue=function(e){var a,n,o=e.isViewingOwnProfile,s=e.loggedIn,c=e.match,u=e.profile,d=Object(l.a)(e,["isViewingOwnProfile","loggedIn","match","profile"]),g=Object(t.useContext)(i.a).userDetails.myPhotosCount,m=null===c||void 0===c||null===(a=c.params)||void 0===a?void 0:a.token,p=null===c||void 0===c||null===(n=c.params)||void 0===n?void 0:n.slug,y=null===u||void 0===u?void 0:u.legacyId;return p&&y||m?r.a.createElement(De,Object.assign({galleryOwnerLegacyId:y,galleryPublicSlug:p,isViewingOwnProfile:o,loggedIn:s,myPhotosCount:g,profile:u,token:m},d)):null};Ue.defaultProps={isViewingOwnProfile:!1,loggedIn:!1,profile:{}};a.default=Object(s.a)(Ue,o.a)}}]);