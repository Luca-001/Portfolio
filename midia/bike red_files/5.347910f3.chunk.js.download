(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{2045:function(e,a,n){"use strict";n.d(a,"a",(function(){return t})),n.d(a,"d",(function(){return r})),n.d(a,"e",(function(){return i})),n.d(a,"c",(function(){return o})),n.d(a,"f",(function(){return s})),n.d(a,"g",(function(){return u})),n.d(a,"h",(function(){return d})),n.d(a,"i",(function(){return c})),n.d(a,"j",(function(){return g})),n.d(a,"b",(function(){return m}));var l=n(89);n.d(a,"k",(function(){return l.UPGRADE_TYPE}));var t={0:"photos",1:"galleries",2:"groups",3:"licensing",4:"resources",5:"resume"},r={FREE:"FREE",TRIAL:"TRIAL",PAID:"PAID"},i={BASIC:"BASIC",AWESOME:"AWESOME",PRO:"PRO",IOS_UNLIMITED_UPLOAD:"IOS_UNLIMITED_UPLOAD"},o={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE"},s={UPCOMING:"UPCOMING"},u={DRAFT:"DRAFT",ACTIVE:"ACTIVE"},d={NOT_SET:"NOT_SET",LESS_THAN_ONE:"LESS_THAN_ONE",ONE:"ONE",TWO:"TWO",THREE:"THREE",FOUR:"FOUR",FIVE:"FIVE",SIX:"SIX",SEVEN:"SEVEN",EIGHT:"EIGHT",NINE:"NINE",TEN_PLUS:"TEN_PLUS"},c={AERIAL:"AERIAL",ARCHITECTURE:"ARCHITECTURE",AUTOMOTIVE:"AUTOMOTIVE",EVENT:"EVENT",FASHION:"FASHION",FOOD:"FOOD",INTERIOR:"INTERIOR",LIFESTYLE:"LIFESTYLE",MATERNITY_NEWBORN:"MATERNITY_NEWBORN",NATURE_LANDSCAPE:"NATURE_LANDSCAPE",PETS_ANIMALS:"PETS_ANIMALS",PHOTOJOURNALISM:"PHOTOJOURNALISM",PORTRAIT_HEADSHOTS:"PORTRAIT_HEADSHOTS",SPORTS:"SPORTS",STILL_LIFE_PRODUCT:"STILL_LIFE_PRODUCT",URBAN:"URBAN",WEDDING:"WEDDING"},g={AERIAL:"0",ARCHITECTURE:"1",AUTOMOTIVE:"2",EVENT:"3",FASHION:"4",FOOD:"5",INTERIOR:"6",LIFESTYLE:"7",MATERNITY_NEWBORN:"8",NATURE_LANDSCAPE:"9",PETS_ANIMALS:"10",PHOTOJOURNALISM:"11",PORTRAIT_HEADSHOTS:"12",SPORTS:"13",STILL_LIFE_PRODUCT:"14",URBAN:"15",WEDDING:"16"},m={TINY:"TINY",SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",COVER:"COVER"}},2229:function(e,a,n){"use strict";var l=n(14),t=n(15),r=n(13),i=n(0),o=n.n(i),s=n(6),u=n(152),d=n(23),c=n.n(d),g=n(11),m=n(9),y=n(8),p=n(291),h=n.n(p),P=n(373),E=n.n(P),S=n(101),I=n.n(S),k=n(37),f=n(475),L=n(5),T=n(28),b=n.n(T),O=n(477),v=function(e){var a=e.emptyStateIds,n=a.subtitle,l=a.title,t=Object(i.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.Box,{center:!0,column:!0,flex:!0,fullWidth:!0,mt:"lg"},o.a.createElement(b.a,{size:"lg",svg:"photo"}),o.a.createElement(g.HeadingSmall,{my:"sm"},o.a.createElement(s.FormattedMessage,{id:l})),o.a.createElement(g.Paragraph,{mb:"md"},o.a.createElement(s.FormattedMessage,{id:n})),o.a.createElement(c.a,{asElement:d.LinkAsButton,onClick:function(){return t.current.showModal()}},o.a.createElement(s.FormattedMessage,{id:"upload"}))),o.a.createElement(O.a,{ref:t}))};v.defaultProps={emptyStateIds:{title:"add_photo_modal.empty.title",subtitle:"add_photo_modal.empty.subtitle"}};var F=v,A=n(246),R=n(379),_=n.n(R),N=n(4),C="PHOTO_CARD",K=function(e){var a=e.theme,n=e.loaderType,l=e.width,t=e.height,r=e.top,i=e.left,s=e.selectableRef;switch(n){case C:return o.a.createElement("div",{ref:s,style:{position:"absolute",top:r,left:i,height:t,width:l}},o.a.createElement(A.a,{height:t,width:l,speed:2,primaryColor:a.loadingPrimaryColor,secondaryColor:a.loadingSecondaryColor,ariaLabel:"Loading photos..."},o.a.createElement("rect",{x:"0",y:"0",rx:"2",ry:"2",width:l,height:t})));default:return null}},M=25,D=4,V=function(e){var a=Object(N.withTheme)(K);return Object(t.a)(Array(e)).map((function(e,n){return o.a.createElement(a,{key:"".concat(n,"-loader-photo-card-grid-key"),id:"".concat(n,"-loader-photo-card-grid-item"),height:1===_()(1)?400:200,width:1===_()(1)?400:300,loaderType:C})}))};K.defaultProps={width:400,height:400,top:null,left:null,selectableRef:null};Object(N.withTheme)(K);var U=n(169),w=n(113),j=n(118),H=function(e){var a,n=e.customEmptyState,l=e.disabledPhotos,t=e.emptyStateIds,s=e.loading,u=e.query,d=e.relay,c=e.retry,g=e.selectedPhotoIds,m=e.togglePhotoSelect,y=Object(i.useState)(!0),p=Object(r.a)(y,2),P=p[0],S=p[1],L=Object(i.useContext)(k.a).webpSupported;Object(i.useEffect)((function(){var e,a;(null===u||void 0===u||null===(e=u.photos)||void 0===e||null===(a=e.edges)||void 0===a?void 0:a.length)>0&&!d.hasMore()&&S(!1)}),[u]);if(s)return o.a.createElement(E.a,null,V(M));var T=u.photos;return!(null===T||void 0===T||null===(a=T.edges)||void 0===a?void 0:a.length)>0?n||o.a.createElement(F,{emptyStateIds:t}):o.a.createElement(h.a,{hasMore:!0,dataLength:T.edges.length,loader:P&&d.isLoading()?o.a.createElement(I.a,null):null,next:function(){if(d.hasMore()&&!d.isLoading()){var e=c&&"function"===typeof c;d.loadMore(20,(function(a){a&&e&&c()}))}},scrollableTarget:"photo-library-modal",style:{overflow:"hidden"}},o.a.createElement(E.a,null,T.edges.map((function(e){var a,n=e.node,t=Object(j.s)()?U.a.GRID_600:U.a.GRID_300,r=Object(w.getImageDataBySize)(n.images,t),i=Object(j.l)(r,L);return o.a.createElement(f.a,Object.assign({},n,{key:n.id,justifiedGrid:!0,alt:n.name,disabled:(null===l||void 0===l?void 0:l.length)>0&&(a=n.legacyId,null===l||void 0===l?void 0:l.some((function(e){return e.legacyId===a}))),linkPhotoPage:!1,photographer:null,selected:g.includes(null===n||void 0===n?void 0:n.legacyId),src:i,title:n.name,onClick:function(){return m(n)}}))})).concat(P?V(D):[])))};H.defaultProps={customEmptyState:null,disabledPhotos:null,emptyStateIds:{},query:null,retry:null,selectedPhotoIds:[]};var z,x,q,Q=H,G=Object(m.createPaginationContainer)(Q,{query:void 0!==z?z:z=n(2794)},{direction:"forward",getFragmentVariables:function(e,a){return Object(l.a)({},e,{count:a})},getVariables:function(e,a,n){return{count:a.count,cursor:a.cursor,privacy:n.privacy,sort:n.sort,first:n.first}},query:void 0!==x?x:x=n(2795)}),$=n(473),B=function(e){var a=e.customEmptyState,t=e.disabledPhotos,r=e.emptyStateIds,i=e.paginationOptions,s=e.selectedPhotoIds,u=e.togglePhotoSelect;return o.a.createElement(m.QueryRenderer,{environment:y.f,query:void 0!==q?q:q=n(2796),render:function(e){var n=e.error,l=e.props,d=e.retry;return n?o.a.createElement($.a,null):o.a.createElement(G,{customEmptyState:a,disabledPhotos:t,emptyStateIds:r,loading:!l,paginationOptions:i,query:l,retry:d,selectedPhotoIds:s,togglePhotoSelect:u})},variables:Object(l.a)({},i)})};B.defaultProps={customEmptyState:null,disabledPhotos:null,emptyStateIds:null,selectedPhotoIds:[],togglePhotoSelect:null};var W=B,Y=Object(i.forwardRef)((function(e,a){var n=e.canDeselectAll,d=e.canMultiselect,m=e.customEmptyState,y=e.disabledPhotos,p=e.emptyStateIds,h=e.handleSelection,P=e.maxPhotos,E=e.modalIds,S=e.onModalClose,I=e.paginationOptions,k=Object(i.useState)([]),f=Object(r.a)(k,2),L=f[0],T=f[1],b=Object(i.useState)(0),O=Object(r.a)(b,2),v=O[0],F=O[1],A=L.reduce((function(e,a){return{selectedPhotoIds:[].concat(Object(t.a)(e.selectedPhotoIds),[a.legacyId]),selectedPhotoDataIds:[].concat(Object(t.a)(e.selectedPhotoDataIds),[a.id])}}),{selectedPhotoIds:[],selectedPhotoDataIds:[]}),R=A.selectedPhotoDataIds,_=A.selectedPhotoIds,N=Object(i.useRef)(null);Object(i.useImperativeHandle)(a,(function(){var e;return{showModal:null===N||void 0===N||null===(e=N.current)||void 0===e?void 0:e.showModal}}));var C=Object(i.useCallback)((function(){T([]),F(0)}),[T,F]),K=E.primaryCta,M=E.title,D=o.a.createElement(s.FormattedMessage,{id:K,values:{photoCount:d?v:null,photos:d?o.a.createElement(s.FormattedMessage,{id:1===v?"add_photo_modal.photo":"add_photo_modal.photos"}):null}}),V=o.a.createElement(c.a,{secondary:!0,message:"add_photo_modal.deselect_all",type:"button",onClick:function(e){e.stopPropagation(),C()},onKeyDown:function(e){"Enter"===e.key&&C()}}),U=P&&o.a.createElement(g.Paragraph,{mediumGrey:!0,normal:!0,small:!0},o.a.createElement(s.FormattedMessage,{id:"resume.modal.photo_upload",values:{cur:v,max:P}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Modal,{ref:N,infiniteScroll:!0,buttons:v?{primaryOnClick:function(){T([]),h({selectedPhotoIds:_,selectedPhotos:L,selectedPhotoDataIds:R})},primaryMessage:D}:null,id:"photo-library-modal",size:"large",titleMessageId:M,titleRightContent:!P&&n&&V,titleValues:{subtitle:U},onClose:function(){S(),C()}},o.a.createElement(W,{customEmptyState:m,disabledPhotos:y,emptyStateIds:p,maxPhotos:P,paginationOptions:Object(l.a)({},{privacy:"ALL",sort:"ID_DESC",first:20},{},I),selectedPhotoIds:_,togglePhotoSelect:function(e){var a=Object(t.a)(L);if(_.includes(e.legacyId))a=a.filter((function(a){return a.legacyId!==e.legacyId}));else if(d){if(P&&!(v+1<=P))return;a.push(e)}else a=[e];F(a.length),T(a)}})))}));Y.defaultProps={canDeselectAll:!1,canMultiselect:!1,customEmptyState:null,disabledPhotos:[],emptyStateIds:{},maxPhotos:null,modalIds:{title:"add_photo_modal.title",primaryCta:"add_photo_modal.primaryCta"},onModalClose:function(){},paginationOptions:{}};a.a=Y},2794:function(e,a,n){"use strict";var l=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null};return{kind:"Fragment",name:"PhotoLibraryPaginationContainer_query",type:"Query",metadata:{connection:[{count:"first",cursor:"cursor",direction:"forward",path:["photos"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"privacy",type:"PhotoPrivacy",defaultValue:null},{kind:"LocalArgument",name:"sort",type:"MyPhotosSort",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"String",defaultValue:null}],selections:[{kind:"LinkedField",alias:"photos",name:"__PhotoLibrary_photos_connection",storageKey:null,args:[{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"sort",variableName:"sort"}],concreteType:"PhotoConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[e,a,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,2])",args:[{kind:"Literal",name:"sizes",value:[33,32,2]}],concreteType:"PhotoResizeImage",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"licensing",storageKey:null,args:null,concreteType:"LicensingPhoto",plural:!1,selections:[e,a,{kind:"ScalarField",alias:null,name:"keywords",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();l.hash="237bb2ba1947d264c1de13bde421ec45",e.exports=l},2795:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"privacy",type:"PhotoPrivacy",defaultValue:null},{kind:"LocalArgument",name:"sort",type:"MyPhotosSort",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"String",defaultValue:null}],a={kind:"Variable",name:"first",variableName:"first"},n={kind:"Variable",name:"privacy",variableName:"privacy"},l={kind:"Variable",name:"sort",variableName:"sort"},t=[{kind:"Variable",name:"after",variableName:"cursor"},a,n,l],r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"PhotoLibraryPaginationContainerQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"FragmentSpread",name:"PhotoLibraryPaginationContainer_query",args:[{kind:"Variable",name:"cursor",variableName:"cursor"},a,n,l]}]},operation:{kind:"Operation",name:"PhotoLibraryPaginationContainerQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"photos",name:"myPhotos",storageKey:null,args:t,concreteType:"PhotoConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[r,i,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,2])",args:[{kind:"Literal",name:"sizes",value:[33,32,2]}],concreteType:"PhotoResizeImage",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},r]},{kind:"LinkedField",alias:null,name:"licensing",storageKey:null,args:null,concreteType:"LicensingPhoto",plural:!1,selections:[r,i,{kind:"ScalarField",alias:null,name:"keywords",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"photos",name:"myPhotos",args:t,handle:"connection",key:"PhotoLibrary_photos",filters:["privacy","sort"]}]},params:{operationKind:"query",name:"PhotoLibraryPaginationContainerQuery",id:null,text:"query PhotoLibraryPaginationContainerQuery(\n  $privacy: PhotoPrivacy\n  $sort: MyPhotosSort\n  $first: Int\n  $cursor: String\n) {\n  ...PhotoLibraryPaginationContainer_query_2dYt41\n}\n\nfragment PhotoLibraryPaginationContainer_query_2dYt41 on Query {\n  photos: myPhotos(privacy: $privacy, sort: $sort, first: $first, after: $cursor) {\n    totalCount\n    edges {\n      node {\n        id\n        legacyId\n        width\n        height\n        name\n        privacy\n        images(sizes: [33, 32, 2]) {\n          size\n          url\n          id\n        }\n        licensing {\n          id\n          legacyId\n          keywords\n          status\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n",metadata:{}}}}();l.hash="6db8c51537eec0f7227205bc90f49f2d",e.exports=l},2796:function(e,a,n){"use strict";var l=function(){var e=[{kind:"LocalArgument",name:"privacy",type:"PhotoPrivacy",defaultValue:null},{kind:"LocalArgument",name:"sort",type:"MyPhotosSort",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],a=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"sort",variableName:"sort"}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"legacyId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"PhotoLibraryRendererQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"FragmentSpread",name:"PhotoLibraryPaginationContainer_query",args:a}]},operation:{kind:"Operation",name:"PhotoLibraryRendererQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"photos",name:"myPhotos",storageKey:null,args:a,concreteType:"PhotoConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"totalCount",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PhotoEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[n,l,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"images",storageKey:"images(sizes:[33,32,2])",args:[{kind:"Literal",name:"sizes",value:[33,32,2]}],concreteType:"PhotoResizeImage",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},n]},{kind:"LinkedField",alias:null,name:"licensing",storageKey:null,args:null,concreteType:"LicensingPhoto",plural:!1,selections:[n,l,{kind:"ScalarField",alias:null,name:"keywords",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"photos",name:"myPhotos",args:a,handle:"connection",key:"PhotoLibrary_photos",filters:["privacy","sort"]}]},params:{operationKind:"query",name:"PhotoLibraryRendererQuery",id:null,text:"query PhotoLibraryRendererQuery(\n  $privacy: PhotoPrivacy\n  $sort: MyPhotosSort\n  $first: Int\n) {\n  ...PhotoLibraryPaginationContainer_query_IaQNz\n}\n\nfragment PhotoLibraryPaginationContainer_query_IaQNz on Query {\n  photos: myPhotos(privacy: $privacy, sort: $sort, first: $first) {\n    totalCount\n    edges {\n      node {\n        id\n        legacyId\n        width\n        height\n        name\n        privacy\n        images(sizes: [33, 32, 2]) {\n          size\n          url\n          id\n        }\n        licensing {\n          id\n          legacyId\n          keywords\n          status\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n",metadata:{}}}}();l.hash="3f59bc89275aa6607e6c022005eb96ae",e.exports=l}}]);